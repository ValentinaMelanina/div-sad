!function(t){"use strict";function e(t){return null!==t&&t===t.window}function n(t){return e(t)?t:9===t.nodeType&&t.defaultView}function a(t){var e,a,o={top:0,left:0},r=t&&t.ownerDocument;return e=r.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),a=n(r),{top:o.top+a.pageYOffset-e.clientTop,left:o.left+a.pageXOffset-e.clientLeft}}function o(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e}function r(t){if(!1===d.allowEvent(t))return null;for(var e=null,n=t.target||t.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){e=n;break}n=n.parentNode}return e}function i(e){var n=r(e);null!==n&&(c.show(e,n),"ontouchstart"in t&&(n.addEventListener("touchend",c.hide,!1),n.addEventListener("touchcancel",c.hide,!1)),n.addEventListener("mouseup",c.hide,!1),n.addEventListener("mouseleave",c.hide,!1),n.addEventListener("dragend",c.hide,!1))}var s=s||{},u=document.querySelectorAll.bind(document),c={duration:750,show:function(t,e){if(2===t.button)return!1;var n=e||this,r=document.createElement("div");r.className="waves-ripple",n.appendChild(r);var i=a(n),s=t.pageY-i.top,u=t.pageX-i.left,d="scale("+n.clientWidth/100*10+")";"touches"in t&&(s=t.touches[0].pageY-i.top,u=t.touches[0].pageX-i.left),r.setAttribute("data-hold",Date.now()),r.setAttribute("data-scale",d),r.setAttribute("data-x",u),r.setAttribute("data-y",s);var l={top:s+"px",left:u+"px"};r.className=r.className+" waves-notransition",r.setAttribute("style",o(l)),r.className=r.className.replace("waves-notransition",""),l["-webkit-transform"]=d,l["-moz-transform"]=d,l["-ms-transform"]=d,l["-o-transform"]=d,l.transform=d,l.opacity="1",l["-webkit-transition-duration"]=c.duration+"ms",l["-moz-transition-duration"]=c.duration+"ms",l["-o-transition-duration"]=c.duration+"ms",l["transition-duration"]=c.duration+"ms",l["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",l["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",r.setAttribute("style",o(l))},hide:function(t){d.touchup(t);var e=this,n=(e.clientWidth,null),a=e.getElementsByClassName("waves-ripple");if(!(a.length>0))return!1;var r=(n=a[a.length-1]).getAttribute("data-x"),i=n.getAttribute("data-y"),s=n.getAttribute("data-scale"),u=350-(Date.now()-Number(n.getAttribute("data-hold")));u<0&&(u=0),setTimeout(function(){var t={top:i+"px",left:r+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":s,"-moz-transform":s,"-ms-transform":s,"-o-transform":s,transform:s};n.setAttribute("style",o(t)),setTimeout(function(){try{e.removeChild(n)}catch(t){return!1}},c.duration)},u)},wrapInput:function(t){for(var e=0;e<t.length;e++){var n=t[e];if("input"===n.tagName.toLowerCase()){var a=n.parentNode;if("i"===a.tagName.toLowerCase()&&-1!==a.className.indexOf("waves-effect"))continue;var o=document.createElement("i");o.className=n.className+" waves-input-wrapper";var r=n.getAttribute("style");r||(r=""),o.setAttribute("style",r),n.className="waves-button-input",n.removeAttribute("style"),a.replaceChild(o,n),o.appendChild(n)}}}},d={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?d.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){d.touches>0&&(d.touches-=1)},500):"mousedown"===t.type&&d.touches>0&&(e=!1),e},touchup:function(t){d.allowEvent(t)}};s.displayEffect=function(e){"duration"in(e=e||{})&&(c.duration=e.duration),c.wrapInput(u(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",i,!1),document.body.addEventListener("mousedown",i,!1)},s.attach=function(e){"input"===e.tagName.toLowerCase()&&(c.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",i,!1),e.addEventListener("mousedown",i,!1)},t.Waves=s,document.addEventListener("DOMContentLoaded",function(){s.displayEffect()},!1)}(window);var menu=document.querySelector(".main-menu"),headerTopBar=document.querySelector(".header__top-bar"),forEach=function(t,e,n){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(n,t[a],a,t);else for(var o=0,r=t.length;r>o;o++)e.call(n,t[o],o,t)},hamburgers=document.querySelectorAll(".hamburger");hamburgers.length>0&&forEach(hamburgers,function(t){t.addEventListener("click",function(){this.classList.toggle("is-active"),menu.classList.toggle("active"),headerTopBar.classList.toggle("active")},!1)});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsid2luZG93IiwiaXNXaW5kb3ciLCJvYmoiLCJnZXRXaW5kb3ciLCJlbGVtIiwibm9kZVR5cGUiLCJkZWZhdWx0VmlldyIsIm9mZnNldCIsImRvY0VsZW0iLCJ3aW4iLCJib3giLCJ0b3AiLCJsZWZ0IiwiZG9jIiwib3duZXJEb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50VG9wIiwicGFnZVhPZmZzZXQiLCJjbGllbnRMZWZ0IiwiY29udmVydFN0eWxlIiwic3R5bGUiLCJhIiwiaGFzT3duUHJvcGVydHkiLCJnZXRXYXZlc0VmZmVjdEVsZW1lbnQiLCJlIiwiVG91Y2hIYW5kbGVyIiwiYWxsb3dFdmVudCIsImVsZW1lbnQiLCJ0YXJnZXQiLCJzcmNFbGVtZW50IiwicGFyZW50Tm9kZSIsIlNWR0VsZW1lbnQiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwic2hvd0VmZmVjdCIsIkVmZmVjdCIsInNob3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGlkZSIsIldhdmVzIiwiJCQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJiaW5kIiwiZHVyYXRpb24iLCJidXR0b24iLCJlbCIsInRoaXMiLCJyaXBwbGUiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJwb3MiLCJyZWxhdGl2ZVkiLCJwYWdlWSIsInJlbGF0aXZlWCIsInBhZ2VYIiwic2NhbGUiLCJjbGllbnRXaWR0aCIsInRvdWNoZXMiLCJzZXRBdHRyaWJ1dGUiLCJEYXRlIiwibm93IiwicmlwcGxlU3R5bGUiLCJyZXBsYWNlIiwidHJhbnNmb3JtIiwib3BhY2l0eSIsInRvdWNodXAiLCJyaXBwbGVzIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsImRlbGF5IiwiTnVtYmVyIiwic2V0VGltZW91dCIsIi13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbiIsIi1tb3otdHJhbnNpdGlvbi1kdXJhdGlvbiIsIi1vLXRyYW5zaXRpb24tZHVyYXRpb24iLCJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCItbW96LXRyYW5zZm9ybSIsIi1tcy10cmFuc2Zvcm0iLCItby10cmFuc2Zvcm0iLCJyZW1vdmVDaGlsZCIsIndyYXBJbnB1dCIsImVsZW1lbnRzIiwidGFnTmFtZSIsInRvTG93ZXJDYXNlIiwicGFyZW50Iiwid3JhcHBlciIsImVsZW1lbnRTdHlsZSIsInJlbW92ZUF0dHJpYnV0ZSIsInJlcGxhY2VDaGlsZCIsImFsbG93IiwidHlwZSIsImRpc3BsYXlFZmZlY3QiLCJvcHRpb25zIiwiYm9keSIsImF0dGFjaCIsIm1lbnUiLCJxdWVyeVNlbGVjdG9yIiwiaGVhZGVyVG9wQmFyIiwiZm9yRWFjaCIsInQiLCJvIiwiciIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImMiLCJsIiwiaGFtYnVyZ2VycyIsImhhbWJ1cmdlciIsImNsYXNzTGlzdCIsInRvZ2dsZSJdLCJtYXBwaW5ncyI6IkNBU0MsU0FBVUEsR0FDUCxhQU1BLFNBQVNDLEVBQVNDLEdBQ2QsT0FBZSxPQUFSQSxHQUFnQkEsSUFBUUEsRUFBSUYsT0FHdkMsU0FBU0csRUFBVUMsR0FDZixPQUFPSCxFQUFTRyxHQUFRQSxFQUF5QixJQUFsQkEsRUFBS0MsVUFBa0JELEVBQUtFLFlBRy9ELFNBQVNDLEVBQU9ILEdBQ1osSUFBSUksRUFBU0MsRUFDVEMsR0FBT0MsSUFBSyxFQUFHQyxLQUFNLEdBQ3JCQyxFQUFNVCxHQUFRQSxFQUFLVSxjQVF2QixPQU5BTixFQUFVSyxFQUFJRSxxQkFFNEIsSUFBL0JYLEVBQUtZLHdCQUNaTixFQUFNTixFQUFLWSx5QkFFZlAsRUFBTU4sRUFBVVUsSUFFWkYsSUFBS0QsRUFBSUMsSUFBTUYsRUFBSVEsWUFBY1QsRUFBUVUsVUFDekNOLEtBQU1GLEVBQUlFLEtBQU9ILEVBQUlVLFlBQWNYLEVB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dUQsa0JBQ1AsR0FuVU4sQ0FxVUVoRyxRQU1ILElBQUlvRyxLQUFPekQsU0FBUzBELGNBQWMsY0FDOUJDLGFBQWUzRCxTQUFTMEQsY0FBYyxvQkFHdENFLFFBQVEsU0FBU0MsRUFBRUMsRUFBRUMsR0FBRyxHQUFHLG9CQUFvQkMsT0FBT0MsVUFBVUMsU0FBU0MsS0FBS04sR0FBRyxJQUFJLElBQUlPLEtBQUtQLEVBQUVHLE9BQU9DLFVBQVVwRixlQUFlc0YsS0FBS04sRUFBRU8sSUFBSU4sRUFBRUssS0FBS0osRUFBRUYsRUFBRU8sR0FBR0EsRUFBRVAsUUFBUSxJQUFJLElBQUk5RSxFQUFFLEVBQUVzRixFQUFFUixFQUFFakMsT0FBT3lDLEVBQUV0RixFQUFFQSxJQUFJK0UsRUFBRUssS0FBS0osRUFBRUYsRUFBRTlFLEdBQUdBLEVBQUU4RSxJQUNsTlMsV0FBYXRFLFNBQVNDLGlCQUFpQixjQUN2Q3FFLFdBQVcxQyxPQUFTLEdBQ3BCZ0MsUUFBUVUsV0FBWSxTQUFTQyxHQUN6QkEsRUFBVTNFLGlCQUFpQixRQUFTLFdBQ2hDVSxLQUFLa0UsVUFBVUMsT0FBTyxhQUN0QmhCLEtBQUtlLFVBQVVDLE9BQU8sVUFDdEJkLGFBQWFhLFVBQVVDLE9BQU8sWUFDL0IiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogV2F2ZXMgdjAuNi40XHJcbiAqIGh0dHA6Ly9maWFuLm15LmlkL1dhdmVzXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDE0IEFsZmlhbmEgRS4gU2lidWVhIGFuZCBvdGhlciBjb250cmlidXRvcnNcclxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9maWFucy9XYXZlcy9ibG9iL21hc3Rlci9MSUNFTlNFXHJcbiAqL1xyXG5cclxuOyhmdW5jdGlvbih3aW5kb3cpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgV2F2ZXMgPSBXYXZlcyB8fCB7fTtcclxuICAgIHZhciAkJCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwuYmluZChkb2N1bWVudCk7XHJcblxyXG4gICAgLy8gRmluZCBleGFjdCBwb3NpdGlvbiBvZiBlbGVtZW50XHJcbiAgICBmdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcclxuICAgICAgICByZXR1cm4gb2JqICE9PSBudWxsICYmIG9iaiA9PT0gb2JqLndpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRXaW5kb3coZWxlbSkge1xyXG4gICAgICAgIHJldHVybiBpc1dpbmRvdyhlbGVtKSA/IGVsZW0gOiBlbGVtLm5vZGVUeXBlID09PSA5ICYmIGVsZW0uZGVmYXVsdFZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb2Zmc2V0KGVsZW0pIHtcclxuICAgICAgICB2YXIgZG9jRWxlbSwgd2luLFxyXG4gICAgICAgICAgICBib3ggPSB7dG9wOiAwLCBsZWZ0OiAwfSxcclxuICAgICAgICAgICAgZG9jID0gZWxlbSAmJiBlbGVtLm93bmVyRG9jdW1lbnQ7XHJcblxyXG4gICAgICAgIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICE9PSB0eXBlb2YgdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGJveCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbiA9IGdldFdpbmRvdyhkb2MpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcDogYm94LnRvcCArIHdpbi5wYWdlWU9mZnNldCAtIGRvY0VsZW0uY2xpZW50VG9wLFxyXG4gICAgICAgICAgICBsZWZ0OiBib3gubGVmdCArIHdpbi5wYWdlWE9mZnNldCAtIGRvY0VsZW0uY2xpZW50TGVmdFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udmVydFN0eWxlKG9iaikge1xyXG4gICAgICAgIHZhciBzdHlsZSA9ICcnO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBhIGluIG9iaikge1xyXG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGEpKSB7XHJcbiAgICAgICAgICAgICAgICBzdHlsZSArPSAoYSArICc6JyArIG9ialthXSArICc7Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdHlsZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgRWZmZWN0ID0ge1xyXG5cclxuICAgICAgICAvLyBFZmZlY3QgZGVsYXlcclxuICAgICAgICBkdXJhdGlvbjogNzUwLFxyXG5cclxuICAgICAgICBzaG93OiBmdW5jdGlvbihlLCBlbGVtZW50KSB7XHJcblxyXG4gICAgICAgICAgICAvLyBEaXNhYmxlIHJpZ2h0IGNsaWNrXHJcbiAgICAgICAgICAgIGlmIChlLmJ1dHRvbiA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgZWwgPSBlbGVtZW50IHx8IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgcmlwcGxlXHJcbiAgICAgICAgICAgIHZhciByaXBwbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgcmlwcGxlLmNsYXNzTmFtZSA9ICd3YXZlcy1yaXBwbGUnO1xyXG4gICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChyaXBwbGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IGNsaWNrIGNvb3JkaW5hdGUgYW5kIGVsZW1lbnQgd2l0ZGhcclxuICAgICAgICAgICAgdmFyIHBvcyAgICAgICAgID0gb2Zmc2V0KGVsKTtcclxuICAgICAgICAgICAgdmFyIHJlbGF0aXZlWSAgID0gKGUucGFnZVkgLSBwb3MudG9wKTtcclxuICAgICAgICAgICAgdmFyIHJlbGF0aXZlWCAgID0gKGUucGFnZVggLSBwb3MubGVmdCk7XHJcbiAgICAgICAgICAgIHZhciBzY2FsZSAgICAgICA9ICdzY2FsZSgnKygoZWwuY2xpZW50V2lkdGggLyAxMDApICogMTApKycpJztcclxuXHJcbiAgICAgICAgICAgIC8vIFN1cHBvcnQgZm9yIHRvdWNoIGRldmljZXNcclxuICAgICAgICAgICAgaWYgKCd0b3VjaGVzJyBpbiBlKSB7XHJcbiAgICAgICAgICAgICAgcmVsYXRpdmVZICAgPSAoZS50b3VjaGVzWzBdLnBhZ2VZIC0gcG9zLnRvcCk7XHJcbiAgICAgICAgICAgICAgcmVsYXRpdmVYICAgPSAoZS50b3VjaGVzWzBdLnBhZ2VYIC0gcG9zLmxlZnQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBBdHRhY2ggZGF0YSB0byBlbGVtZW50XHJcbiAgICAgICAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaG9sZCcsIERhdGUubm93KCkpO1xyXG4gICAgICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdkYXRhLXNjYWxlJywgc2NhbGUpO1xyXG4gICAgICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdkYXRhLXgnLCByZWxhdGl2ZVgpO1xyXG4gICAgICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdkYXRhLXknLCByZWxhdGl2ZVkpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2V0IHJpcHBsZSBwb3NpdGlvblxyXG4gICAgICAgICAgICB2YXIgcmlwcGxlU3R5bGUgPSB7XHJcbiAgICAgICAgICAgICAgICAndG9wJzogcmVsYXRpdmVZKydweCcsXHJcbiAgICAgICAgICAgICAgICAnbGVmdCc6IHJlbGF0aXZlWCsncHgnXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICByaXBwbGUuY2xhc3NOYW1lID0gcmlwcGxlLmNsYXNzTmFtZSArICcgd2F2ZXMtbm90cmFuc2l0aW9uJztcclxuICAgICAgICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBjb252ZXJ0U3R5bGUocmlwcGxlU3R5bGUpKTtcclxuICAgICAgICAgICAgcmlwcGxlLmNsYXNzTmFtZSA9IHJpcHBsZS5jbGFzc05hbWUucmVwbGFjZSgnd2F2ZXMtbm90cmFuc2l0aW9uJywgJycpO1xyXG5cclxuICAgICAgICAgICAgLy8gU2NhbGUgdGhlIHJpcHBsZVxyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsnLXdlYmtpdC10cmFuc2Zvcm0nXSA9IHNjYWxlO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsnLW1vei10cmFuc2Zvcm0nXSA9IHNjYWxlO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsnLW1zLXRyYW5zZm9ybSddID0gc2NhbGU7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctby10cmFuc2Zvcm0nXSA9IHNjYWxlO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZS50cmFuc2Zvcm0gPSBzY2FsZTtcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGUub3BhY2l0eSAgID0gJzEnO1xyXG5cclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy13ZWJraXQtdHJhbnNpdGlvbi1kdXJhdGlvbiddID0gRWZmZWN0LmR1cmF0aW9uICsgJ21zJztcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy1tb3otdHJhbnNpdGlvbi1kdXJhdGlvbiddICAgID0gRWZmZWN0LmR1cmF0aW9uICsgJ21zJztcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy1vLXRyYW5zaXRpb24tZHVyYXRpb24nXSAgICAgID0gRWZmZWN0LmR1cmF0aW9uICsgJ21zJztcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJ3RyYW5zaXRpb24tZHVyYXRpb24nXSAgICAgICAgID0gRWZmZWN0LmR1cmF0aW9uICsgJ21zJztcclxuXHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctd2Via2l0LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctbW96LXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gICAgPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctby10cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiddICAgICAgPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyd0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbiddICAgICAgICAgPSAnY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSc7XHJcblxyXG4gICAgICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbnZlcnRTdHlsZShyaXBwbGVTdHlsZSkpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGhpZGU6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgVG91Y2hIYW5kbGVyLnRvdWNodXAoZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgZWwgPSB0aGlzO1xyXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBlbC5jbGllbnRXaWR0aCAqIDEuNDtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCBmaXJzdCByaXBwbGVcclxuICAgICAgICAgICAgdmFyIHJpcHBsZSA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciByaXBwbGVzID0gZWwuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnd2F2ZXMtcmlwcGxlJyk7XHJcbiAgICAgICAgICAgIGlmIChyaXBwbGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHJpcHBsZSA9IHJpcHBsZXNbcmlwcGxlcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHJlbGF0aXZlWCAgID0gcmlwcGxlLmdldEF0dHJpYnV0ZSgnZGF0YS14Jyk7XHJcbiAgICAgICAgICAgIHZhciByZWxhdGl2ZVkgICA9IHJpcHBsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEteScpO1xyXG4gICAgICAgICAgICB2YXIgc2NhbGUgICAgICAgPSByaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXNjYWxlJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgZGVsYXkgYmVldHdlZW4gbW91c2Vkb3duIGFuZCBtb3VzZSBsZWF2ZVxyXG4gICAgICAgICAgICB2YXIgZGlmZiA9IERhdGUubm93KCkgLSBOdW1iZXIocmlwcGxlLmdldEF0dHJpYnV0ZSgnZGF0YS1ob2xkJykpO1xyXG4gICAgICAgICAgICB2YXIgZGVsYXkgPSAzNTAgLSBkaWZmO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlbGF5IDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZGVsYXkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBGYWRlIG91dCByaXBwbGUgYWZ0ZXIgZGVsYXlcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdHlsZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAndG9wJzogcmVsYXRpdmVZKydweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2xlZnQnOiByZWxhdGl2ZVgrJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAnb3BhY2l0eSc6ICcwJyxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRHVyYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uJzogRWZmZWN0LmR1cmF0aW9uICsgJ21zJyxcclxuICAgICAgICAgICAgICAgICAgICAnLW1vei10cmFuc2l0aW9uLWR1cmF0aW9uJzogRWZmZWN0LmR1cmF0aW9uICsgJ21zJyxcclxuICAgICAgICAgICAgICAgICAgICAnLW8tdHJhbnNpdGlvbi1kdXJhdGlvbic6IEVmZmVjdC5kdXJhdGlvbiArICdtcycsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24tZHVyYXRpb24nOiBFZmZlY3QuZHVyYXRpb24gKyAnbXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6IHNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICctbW96LXRyYW5zZm9ybSc6IHNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICctbXMtdHJhbnNmb3JtJzogc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJy1vLXRyYW5zZm9ybSc6IHNjYWxlLFxyXG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBzY2FsZSxcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBjb252ZXJ0U3R5bGUoc3R5bGUpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUNoaWxkKHJpcHBsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBFZmZlY3QuZHVyYXRpb24pO1xyXG4gICAgICAgICAgICB9LCBkZWxheSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8gTGl0dGxlIGhhY2sgdG8gbWFrZSA8aW5wdXQ+IGNhbiBwZXJmb3JtIHdhdmVzIGVmZmVjdFxyXG4gICAgICAgIHdyYXBJbnB1dDogZnVuY3Rpb24oZWxlbWVudHMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBlbGVtZW50cy5sZW5ndGg7IGErKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZWxlbWVudHNbYV07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGVsLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lucHV0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBpbnB1dCBhbHJlYWR5IGhhdmUgcGFyZW50IGp1c3QgcGFzcyB0aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcmVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpJyAmJiBwYXJlbnQuY2xhc3NOYW1lLmluZGV4T2YoJ3dhdmVzLWVmZmVjdCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFB1dCBlbGVtZW50IGNsYXNzIGFuZCBzdHlsZSB0byB0aGUgc3BlY2lmaWVkIHBhcmVudFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lICsgJyB3YXZlcy1pbnB1dC13cmFwcGVyJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRTdHlsZSA9IGVsLmdldEF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50U3R5bGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFN0eWxlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCBlbGVtZW50U3R5bGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc05hbWUgPSAnd2F2ZXMtYnV0dG9uLWlucHV0JztcclxuICAgICAgICAgICAgICAgICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFB1dCBlbGVtZW50IGFzIGNoaWxkXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5hcHBlbmRDaGlsZChlbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIERpc2FibGUgbW91c2Vkb3duIGV2ZW50IGZvciA1MDBtcyBkdXJpbmcgYW5kIGFmdGVyIHRvdWNoXHJcbiAgICAgKi9cclxuICAgIHZhciBUb3VjaEhhbmRsZXIgPSB7XHJcbiAgICAgICAgLyogdXNlcyBhbiBpbnRlZ2VyIHJhdGhlciB0aGFuIGJvb2wgc28gdGhlcmUncyBubyBpc3N1ZXMgd2l0aFxyXG4gICAgICAgICAqIG5lZWRpbmcgdG8gY2xlYXIgdGltZW91dHMgaWYgYW5vdGhlciB0b3VjaCBldmVudCBvY2N1cnJlZFxyXG4gICAgICAgICAqIHdpdGhpbiB0aGUgNTAwbXMuIENhbm5vdCBtb3VzZXVwIGJldHdlZW4gdG91Y2hzdGFydCBhbmRcclxuICAgICAgICAgKiB0b3VjaGVuZCwgbm9yIGluIHRoZSA1MDBtcyBhZnRlciB0b3VjaGVuZC4gKi9cclxuICAgICAgICB0b3VjaGVzOiAwLFxyXG4gICAgICAgIGFsbG93RXZlbnQ6IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgdmFyIGFsbG93ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xyXG4gICAgICAgICAgICAgICAgVG91Y2hIYW5kbGVyLnRvdWNoZXMgKz0gMTsgLy9wdXNoXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZS50eXBlID09PSAndG91Y2hlbmQnIHx8IGUudHlwZSA9PT0gJ3RvdWNoY2FuY2VsJykge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoVG91Y2hIYW5kbGVyLnRvdWNoZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFRvdWNoSGFuZGxlci50b3VjaGVzIC09IDE7IC8vcG9wIGFmdGVyIDUwMG1zXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICdtb3VzZWRvd24nICYmIFRvdWNoSGFuZGxlci50b3VjaGVzID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYWxsb3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGFsbG93O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdG91Y2h1cDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBUb3VjaEhhbmRsZXIuYWxsb3dFdmVudChlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIERlbGVnYXRlZCBjbGljayBoYW5kbGVyIGZvciAud2F2ZXMtZWZmZWN0IGVsZW1lbnQuXHJcbiAgICAgKiByZXR1cm5zIG51bGwgd2hlbiAud2F2ZXMtZWZmZWN0IGVsZW1lbnQgbm90IGluIFwiY2xpY2sgdHJlZVwiXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGdldFdhdmVzRWZmZWN0RWxlbWVudChlKSB7XHJcbiAgICAgICAgaWYgKFRvdWNoSGFuZGxlci5hbGxvd0V2ZW50KGUpID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBlbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB2YXIgdGFyZ2V0ID0gZS50YXJnZXQgfHwgZS5zcmNFbGVtZW50O1xyXG5cclxuICAgICAgICB3aGlsZSAodGFyZ2V0LnBhcmVudE5vZGUgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgU1ZHRWxlbWVudCkgJiYgdGFyZ2V0LmNsYXNzTmFtZS5pbmRleE9mKCd3YXZlcy1lZmZlY3QnKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0YXJnZXQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWJibGUgdGhlIGNsaWNrIGFuZCBzaG93IGVmZmVjdCBpZiAud2F2ZXMtZWZmZWN0IGVsZW0gd2FzIGZvdW5kXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNob3dFZmZlY3QoZSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50ID0gZ2V0V2F2ZXNFZmZlY3RFbGVtZW50KGUpO1xyXG5cclxuICAgICAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBFZmZlY3Quc2hvdyhlLCBlbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBFZmZlY3QuaGlkZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VuZCcsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIFdhdmVzLmRpc3BsYXlFZmZlY3QgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gICAgICAgIGlmICgnZHVyYXRpb24nIGluIG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgRWZmZWN0LmR1cmF0aW9uID0gb3B0aW9ucy5kdXJhdGlvbjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vV3JhcCBpbnB1dCBpbnNpZGUgPGk+IHRhZ1xyXG4gICAgICAgIEVmZmVjdC53cmFwSW5wdXQoJCQoJy53YXZlcy1lZmZlY3QnKSk7XHJcblxyXG4gICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2hvd0VmZmVjdCwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzaG93RWZmZWN0LCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXR0YWNoIFdhdmVzIHRvIGFuIGlucHV0IGVsZW1lbnQgKG9yIGFueSBlbGVtZW50IHdoaWNoIGRvZXNuJ3RcclxuICAgICAqIGJ1YmJsZSBtb3VzZXVwL21vdXNlZG93biBldmVudHMpLlxyXG4gICAgICogICBJbnRlbmRlZCB0byBiZSB1c2VkIHdpdGggZHluYW1pY2FsbHkgbG9hZGVkIGZvcm1zL2lucHV0cywgb3JcclxuICAgICAqIHdoZXJlIHRoZSB1c2VyIGRvZXNuJ3Qgd2FudCBhIGRlbGVnYXRlZCBjbGljayBoYW5kbGVyLlxyXG4gICAgICovXHJcbiAgICBXYXZlcy5hdHRhY2ggPSBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgLy9GVVRVUkU6IGF1dG9tYXRpY2FsbHkgYWRkIHdhdmVzIGNsYXNzZXMgYW5kIGFsbG93IHVzZXJzXHJcbiAgICAgICAgLy8gdG8gc3BlY2lmeSB0aGVtIHdpdGggYW4gb3B0aW9ucyBwYXJhbT8gRWcuIGxpZ2h0L2NsYXNzaWMvYnV0dG9uXHJcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XHJcbiAgICAgICAgICAgIEVmZmVjdC53cmFwSW5wdXQoW2VsZW1lbnRdKTtcclxuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgc2hvd0VmZmVjdCwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBzaG93RWZmZWN0LCBmYWxzZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIHdpbmRvdy5XYXZlcyA9IFdhdmVzO1xyXG5cclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBXYXZlcy5kaXNwbGF5RWZmZWN0KCk7XHJcbiAgICB9LCBmYWxzZSk7XHJcblxyXG59KSh3aW5kb3cpO1xyXG5cblwidXNlIHN0cmljdFwiO1xuXG4vLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvNC10L3RjlxuXG52YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1tZW51XCIpLFxuICAgIGhlYWRlclRvcEJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaGVhZGVyX190b3AtYmFyXCIpO1xuXG4vLyDQmtC90L7Qv9C60LAg0LzQvtCx0LjQu9GM0L3QvtCz0L4g0LzQtdC90Y5cbnZhciBmb3JFYWNoPWZ1bmN0aW9uKHQsbyxyKXtpZihcIltvYmplY3QgT2JqZWN0XVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKWZvcih2YXIgYyBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGMpJiZvLmNhbGwocix0W2NdLGMsdCk7ZWxzZSBmb3IodmFyIGU9MCxsPXQubGVuZ3RoO2w+ZTtlKyspby5jYWxsKHIsdFtlXSxlLHQpfTtcbnZhciBoYW1idXJnZXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5oYW1idXJnZXJcIik7XG5pZiAoaGFtYnVyZ2Vycy5sZW5ndGggPiAwKSB7XG4gICAgZm9yRWFjaChoYW1idXJnZXJzLCBmdW5jdGlvbihoYW1idXJnZXIpIHtcbiAgICAgICAgaGFtYnVyZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LnRvZ2dsZShcImlzLWFjdGl2ZVwiKTtcbiAgICAgICAgICAgIG1lbnUuY2xhc3NMaXN0LnRvZ2dsZShcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGhlYWRlclRvcEJhci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuICAgICAgICB9LCBmYWxzZSk7XG4gICAgfSk7XG59XG5cblxuXG4iXX0=
