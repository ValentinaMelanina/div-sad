!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){"use strict";function e(t){if(t instanceof Date)return t;if(String(t).match(n))return String(t).match(/^[0-9]*$/)&&(t=Number(t)),String(t).match(/\-/)&&(t=String(t).replace(/\-/g,"/")),new Date(t);throw new Error("Couldn't cast `"+t+"` to a date object.")}function s(t){var e=t.toString().replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return new RegExp(e)}function a(t){return function(e){var a=e.match(/%(-|!)?[A-Z]{1}(:[^;]+;)?/gi);if(a)for(var i=0,n=a.length;i<n;++i){var r=a[i].match(/%(-|!)?([a-zA-Z]{1})(:[^;]+;)?/),c=s(r[0]),h=r[1]||"",u=r[3]||"",d=null;r=r[2],l.hasOwnProperty(r)&&(d=l[r],d=Number(t[d])),null!==d&&("!"===h&&(d=o(u,d)),""===h&&d<10&&(d="0"+d.toString()),e=e.replace(c,d.toString()))}return e=e.replace(/%%/,"%")}}function o(t,e){var s="s",a="";return t&&(1===(t=t.replace(/(:|;|\s)/gi,"").split(/\,/)).length?s=t[0]:(a=t[0],s=t[1])),Math.abs(e)>1?s:a}var i=[],n=[],r={precision:100,elapse:!1,defer:!1};n.push(/^[0-9]*$/.source),n.push(/([0-9]{1,2}\/){2}[0-9]{4}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),n.push(/[0-9]{4}([\/\-][0-9]{1,2}){2}( [0-9]{1,2}(:[0-9]{2}){2})?/.source),n=new RegExp(n.join("|"));var l={Y:"years",m:"months",n:"daysToMonth",d:"daysToWeek",w:"weeks",W:"weeksToMonth",H:"hours",M:"minutes",S:"seconds",D:"totalDays",I:"totalHours",N:"totalMinutes",T:"totalSeconds"},c=function(e,s,a){this.el=e,this.$el=t(e),this.interval=null,this.offset={},this.options=t.extend({},r),this.firstTick=!0,this.instanceNumber=i.length,i.push(this),this.$el.data("countdown-instance",this.instanceNumber),a&&("function"==typeof a?(this.$el.on("update.countdown",a),this.$el.on("stoped.countdown",a),this.$el.on("finish.countdown",a)):this.options=t.extend({},r,a)),this.setFinalDate(s),!1===this.options.defer&&this.start()};t.extend(c.prototype,{start:function(){null!==this.interval&&clearInterval(this.interval);var t=this;this.update(),this.interval=setInterval(function(){t.update.call(t)},this.options.precision)},stop:function(){clearInterval(this.interval),this.interval=null,this.dispatchEvent("stoped")},toggle:function(){this.interval?this.stop():this.start()},pause:function(){this.stop()},resume:function(){this.start()},remove:function(){this.stop.call(this),i[this.instanceNumber]=null,delete this.$el.data().countdownInstance},setFinalDate:function(t){this.finalDate=e(t)},update:function(){if(0!==this.$el.closest("html").length){var t,e=new Date;t=this.finalDate.getTime()-e.getTime(),t=Math.ceil(t/1e3),t=!this.options.elapse&&t<0?0:Math.abs(t),this.totalSecsLeft===t||this.firstTick?this.firstTick=!1:(this.totalSecsLeft=t,this.elapsed=e>=this.finalDate,this.offset={seconds:this.totalSecsLeft%60,minutes:Math.floor(this.totalSecsLeft/60)%60,hours:Math.floor(this.totalSecsLeft/60/60)%24,days:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToWeek:Math.floor(this.totalSecsLeft/60/60/24)%7,daysToMonth:Math.floor(this.totalSecsLeft/60/60/24%30.4368),weeks:Math.floor(this.totalSecsLeft/60/60/24/7),weeksToMonth:Math.floor(this.totalSecsLeft/60/60/24/7)%4,months:Math.floor(this.totalSecsLeft/60/60/24/30.4368),years:Math.abs(this.finalDate.getFullYear()-e.getFullYear()),totalDays:Math.floor(this.totalSecsLeft/60/60/24),totalHours:Math.floor(this.totalSecsLeft/60/60),totalMinutes:Math.floor(this.totalSecsLeft/60),totalSeconds:this.totalSecsLeft},this.options.elapse||0!==this.totalSecsLeft?this.dispatchEvent("update"):(this.stop(),this.dispatchEvent("finish")))}else this.remove()},dispatchEvent:function(e){var s=t.Event(e+".countdown");s.finalDate=this.finalDate,s.elapsed=this.elapsed,s.offset=t.extend({},this.offset),s.strftime=a(this.offset),this.$el.trigger(s)}}),t.fn.countdown=function(){var e=Array.prototype.slice.call(arguments,0);return this.each(function(){var s=t(this).data("countdown-instance");if(void 0!==s){var a=i[s],o=e[0];c.prototype.hasOwnProperty(o)?a[o].apply(a,e.slice(1)):null===String(o).match(/^[$A-Z_][0-9A-Z_$]*$/i)?(a.setFinalDate.call(a,o),a.start()):t.error("Method %s does not exist on jQuery.countdown".replace(/\%s/gi,o))}else new c(this,e[0],e[1])})}}),function(t,e,s){function a(e,s){this.element=e,this.$element=t(e),this.tabs=[],this.state="",this.rotateInterval=0,this.$queue=t({}),this.options=t.extend({},o,s),this.init()}var o={active:null,event:"click",disabled:[],collapsible:"accordion",startCollapsed:!1,rotate:!1,setHash:!1,animation:"default",animationQueue:!1,duration:500,fluidHeight:!0,scrollToAccordion:!1,scrollToAccordionOnLoad:!0,scrollToAccordionOffset:0,accordionTabElement:"<div></div>",click:function(){},activate:function(){},deactivate:function(){},load:function(){},activateState:function(){},classes:{stateDefault:"r-tabs-state-default",stateActive:"r-tabs-state-active",stateDisabled:"r-tabs-state-disabled",stateExcluded:"r-tabs-state-excluded",container:"r-tabs",ul:"r-tabs-nav",tab:"r-tabs-tab",anchor:"r-tabs-anchor",panel:"r-tabs-panel",accordionTitle:"r-tabs-accordion-title"}};a.prototype.init=function(){var s=this;this.tabs=this._loadElements(),this._loadClasses(),this._loadEvents(),t(e).on("resize",function(t){s._setState(t),!0!==s.options.fluidHeight&&s._equaliseHeights()}),t(e).on("hashchange",function(t){var a=s._getTabRefBySelector(e.location.hash),o=s._getTab(a);a>=0&&!o._ignoreHashChange&&!o.disabled&&s._openTab(t,s._getTab(a),!0)}),!1!==this.options.rotate&&this.startRotation(),!0!==this.options.fluidHeight&&s._equaliseHeights(),this.$element.bind("tabs-click",function(t,e){s.options.click.call(this,t,e)}),this.$element.bind("tabs-activate",function(t,e){s.options.activate.call(this,t,e)}),this.$element.bind("tabs-deactivate",function(t,e){s.options.deactivate.call(this,t,e)}),this.$element.bind("tabs-activate-state",function(t,e){s.options.activateState.call(this,t,e)}),this.$element.bind("tabs-load",function(t){var e;s._setState(t),!0===s.options.startCollapsed||"accordion"===s.options.startCollapsed&&"accordion"===s.state||(e=s._getStartTab(),s._openTab(t,e),s.options.load.call(this,t,e))}),this.$element.trigger("tabs-load")},a.prototype._loadElements=function(){var e=this,s=this.$element.children("ul:first"),a=[],o=0;return this.$element.addClass(e.options.classes.container),s.addClass(e.options.classes.ul),t("li",s).each(function(){var s,i,n,r,l,c=t(this);if(!c.hasClass(e.options.classes.stateExcluded)){l=(s=t("a",c)).attr("href"),i=t(l),n=t(e.options.accordionTabElement).insertBefore(i),r=t("<a></a>").attr("href",l).html(s.html()).appendTo(n);var h={_ignoreHashChange:!1,id:o,disabled:-1!==t.inArray(o,e.options.disabled),tab:t(this),anchor:t("a",c),panel:i,selector:l,accordionTab:n,accordionAnchor:r,active:!1};o++,a.push(h)}}),a},a.prototype._loadClasses=function(){for(var t=0;t<this.tabs.length;t++)this.tabs[t].tab.addClass(this.options.classes.stateDefault).addClass(this.options.classes.tab),this.tabs[t].anchor.addClass(this.options.classes.anchor),this.tabs[t].panel.addClass(this.options.classes.stateDefault).addClass(this.options.classes.panel),this.tabs[t].accordionTab.addClass(this.options.classes.accordionTitle),this.tabs[t].accordionAnchor.addClass(this.options.classes.anchor),this.tabs[t].disabled&&(this.tabs[t].tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),this.tabs[t].accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},a.prototype._loadEvents=function(){for(var t=this,s=function(s){var a=t._getCurrentTab(),o=s.data.tab;s.preventDefault(),o.tab.trigger("tabs-click",o),o.disabled||(t.options.setHash&&(history.pushState?(e.location.origin||(e.location.origin=e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")),history.pushState(null,null,e.location.origin+e.location.pathname+e.location.search+o.selector)):e.location.hash=o.selector),s.data.tab._ignoreHashChange=!0,(a!==o||t._isCollapisble())&&(t._closeTab(s,a),a===o&&t._isCollapisble()||t._openTab(s,o,!1,!0)))},a=0;a<this.tabs.length;a++)this.tabs[a].anchor.on(t.options.event,{tab:t.tabs[a]},s),this.tabs[a].accordionAnchor.on(t.options.event,{tab:t.tabs[a]},s)},a.prototype._getStartTab=function(){var t=this._getTabRefBySelector(e.location.hash);return t>=0&&!this._getTab(t).disabled?this._getTab(t):this.options.active>0&&!this._getTab(this.options.active).disabled?this._getTab(this.options.active):this._getTab(0)},a.prototype._setState=function(e){var s,a=t("ul:first",this.$element),o=this.state,i="string"==typeof this.options.startCollapsed;a.is(":visible")?this.state="tabs":this.state="accordion",this.state!==o&&(this.$element.trigger("tabs-activate-state",{oldState:o,newState:this.state}),o&&i&&this.options.startCollapsed!==this.state&&void 0===this._getCurrentTab()&&(s=this._getStartTab(e),this._openTab(e,s)))},a.prototype._openTab=function(e,s,a,o){var i,n=this;a&&this._closeTab(e,this._getCurrentTab()),o&&this.rotateInterval>0&&this.stopRotation(),s.active=!0,s.tab.removeClass(n.options.classes.stateDefault).addClass(n.options.classes.stateActive),s.accordionTab.removeClass(n.options.classes.stateDefault).addClass(n.options.classes.stateActive),n._doTransition(s.panel,n.options.animation,"open",function(){var a="tabs-load"!==e.type||n.options.scrollToAccordionOnLoad;s.panel.removeClass(n.options.classes.stateDefault).addClass(n.options.classes.stateActive),"accordion"!==n.getState()||!n.options.scrollToAccordion||n._isInView(s.accordionTab)&&"default"===n.options.animation||!a||(i=s.accordionTab.offset().top-n.options.scrollToAccordionOffset,"default"!==n.options.animation&&n.options.duration>0?t("html, body").animate({scrollTop:i},n.options.duration):t("html, body").scrollTop(i))}),this.$element.trigger("tabs-activate",s)},a.prototype._closeTab=function(t,e){var s,a=this,o="string"==typeof a.options.animationQueue;void 0!==e&&(s=!(!o||a.getState()!==a.options.animationQueue)||!o&&a.options.animationQueue,e.active=!1,e.tab.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault),a._doTransition(e.panel,a.options.animation,"close",function(){e.accordionTab.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault),e.panel.removeClass(a.options.classes.stateActive).addClass(a.options.classes.stateDefault)},!s),this.$element.trigger("tabs-deactivate",e))},a.prototype._doTransition=function(t,e,s,a,o){var i,n=this;switch(e){case"slide":i="open"===s?"slideDown":"slideUp";break;case"fade":i="open"===s?"fadeIn":"fadeOut";break;default:i="open"===s?"show":"hide",n.options.duration=0}this.$queue.queue("responsive-tabs",function(o){t[i]({duration:n.options.duration,complete:function(){a.call(t,e,s),o()}})}),("open"===s||o)&&this.$queue.dequeue("responsive-tabs")},a.prototype._isCollapisble=function(){return"boolean"==typeof this.options.collapsible&&this.options.collapsible||"string"==typeof this.options.collapsible&&this.options.collapsible===this.getState()},a.prototype._getTab=function(t){return this.tabs[t]},a.prototype._getTabRefBySelector=function(t){for(var e=0;e<this.tabs.length;e++)if(this.tabs[e].selector===t)return e;return-1},a.prototype._getCurrentTab=function(){return this._getTab(this._getCurrentTabRef())},a.prototype._getNextTabRef=function(t){var e=t||this._getCurrentTabRef(),s=e===this.tabs.length-1?0:e+1;return this._getTab(s).disabled?this._getNextTabRef(s):s},a.prototype._getPreviousTabRef=function(){return 0===this._getCurrentTabRef()?this.tabs.length-1:this._getCurrentTabRef()-1},a.prototype._getCurrentTabRef=function(){for(var t=0;t<this.tabs.length;t++)if(this.tabs[t].active)return t;return-1},a.prototype._equaliseHeights=function(){var e=0;t.each(t.map(this.tabs,function(t){return e=Math.max(e,t.panel.css("minHeight","").height()),t.panel}),function(){this.css("minHeight",e)})},a.prototype._isInView=function(s){var a=t(e).scrollTop(),o=a+t(e).height(),i=s.offset().top;return i+s.height()<=o&&i>=a},a.prototype.activate=function(t,e){var s=jQuery.Event("tabs-activate"),a=this._getTab(t);a.disabled||this._openTab(s,a,!0,e||!0)},a.prototype.deactivate=function(t){var e=jQuery.Event("tabs-dectivate"),s=this._getTab(t);s.disabled||this._closeTab(e,s)},a.prototype.enable=function(t){var e=this._getTab(t);e&&(e.disabled=!1,e.tab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled),e.accordionTab.addClass(this.options.classes.stateDefault).removeClass(this.options.classes.stateDisabled))},a.prototype.disable=function(t){var e=this._getTab(t);e&&(e.disabled=!0,e.tab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled),e.accordionTab.removeClass(this.options.classes.stateDefault).addClass(this.options.classes.stateDisabled))},a.prototype.getState=function(){return this.state},a.prototype.startRotation=function(e){var s=this;if(!(this.tabs.length>this.options.disabled.length))throw new Error("Rotation is not possible if all tabs are disabled");this.rotateInterval=setInterval(function(){var t=jQuery.Event("rotate");s._openTab(t,s._getTab(s._getNextTabRef()),!0)},e||(t.isNumeric(s.options.rotate)?s.options.rotate:4e3))},a.prototype.stopRotation=function(){e.clearInterval(this.rotateInterval),this.rotateInterval=0},a.prototype.option=function(t,e){return e&&(this.options[t]=e),this.options[t]},t.fn.responsiveTabs=function(e){var s,o=arguments;return void 0===e||"object"==typeof e?this.each(function(){t.data(this,"responsivetabs")||t.data(this,"responsivetabs",new a(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(s=t.data(this[0],"responsivetabs"),"destroy"===e&&t.data(this,"responsivetabs",null),s instanceof a&&"function"==typeof s[e]?s[e].apply(s,Array.prototype.slice.call(o,1)):this):void 0}}(jQuery,window),function(t){"use strict";function e(t){return null!==t&&t===t.window}function s(t){return e(t)?t:9===t.nodeType&&t.defaultView}function a(t){var e,a,o={top:0,left:0},i=t&&t.ownerDocument;return e=i.documentElement,void 0!==t.getBoundingClientRect&&(o=t.getBoundingClientRect()),a=s(i),{top:o.top+a.pageYOffset-e.clientTop,left:o.left+a.pageXOffset-e.clientLeft}}function o(t){var e="";for(var s in t)t.hasOwnProperty(s)&&(e+=s+":"+t[s]+";");return e}function i(t){if(!1===h.allowEvent(t))return null;for(var e=null,s=t.target||t.srcElement;null!==s.parentNode;){if(!(s instanceof SVGElement)&&-1!==s.className.indexOf("waves-effect")){e=s;break}s=s.parentNode}return e}function n(e){var s=i(e);null!==s&&(c.show(e,s),"ontouchstart"in t&&(s.addEventListener("touchend",c.hide,!1),s.addEventListener("touchcancel",c.hide,!1)),s.addEventListener("mouseup",c.hide,!1),s.addEventListener("mouseleave",c.hide,!1),s.addEventListener("dragend",c.hide,!1))}var r=r||{},l=document.querySelectorAll.bind(document),c={duration:750,show:function(t,e){if(2===t.button)return!1;var s=e||this,i=document.createElement("div");i.className="waves-ripple",s.appendChild(i);var n=a(s),r=t.pageY-n.top,l=t.pageX-n.left,h="scale("+s.clientWidth/100*10+")";"touches"in t&&(r=t.touches[0].pageY-n.top,l=t.touches[0].pageX-n.left),i.setAttribute("data-hold",Date.now()),i.setAttribute("data-scale",h),i.setAttribute("data-x",l),i.setAttribute("data-y",r);var u={top:r+"px",left:l+"px"};i.className=i.className+" waves-notransition",i.setAttribute("style",o(u)),i.className=i.className.replace("waves-notransition",""),u["-webkit-transform"]=h,u["-moz-transform"]=h,u["-ms-transform"]=h,u["-o-transform"]=h,u.transform=h,u.opacity="1",u["-webkit-transition-duration"]=c.duration+"ms",u["-moz-transition-duration"]=c.duration+"ms",u["-o-transition-duration"]=c.duration+"ms",u["transition-duration"]=c.duration+"ms",u["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",u["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",u["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",u["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",i.setAttribute("style",o(u))},hide:function(t){h.touchup(t);var e=this,s=(e.clientWidth,null),a=e.getElementsByClassName("waves-ripple");if(!(a.length>0))return!1;var i=(s=a[a.length-1]).getAttribute("data-x"),n=s.getAttribute("data-y"),r=s.getAttribute("data-scale"),l=350-(Date.now()-Number(s.getAttribute("data-hold")));l<0&&(l=0),setTimeout(function(){var t={top:n+"px",left:i+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":r,"-moz-transform":r,"-ms-transform":r,"-o-transform":r,transform:r};s.setAttribute("style",o(t)),setTimeout(function(){try{e.removeChild(s)}catch(t){return!1}},c.duration)},l)},wrapInput:function(t){for(var e=0;e<t.length;e++){var s=t[e];if("input"===s.tagName.toLowerCase()){var a=s.parentNode;if("i"===a.tagName.toLowerCase()&&-1!==a.className.indexOf("waves-effect"))continue;var o=document.createElement("i");o.className=s.className+" waves-input-wrapper";var i=s.getAttribute("style");i||(i=""),o.setAttribute("style",i),s.className="waves-button-input",s.removeAttribute("style"),a.replaceChild(o,s),o.appendChild(s)}}}},h={touches:0,allowEvent:function(t){var e=!0;return"touchstart"===t.type?h.touches+=1:"touchend"===t.type||"touchcancel"===t.type?setTimeout(function(){h.touches>0&&(h.touches-=1)},500):"mousedown"===t.type&&h.touches>0&&(e=!1),e},touchup:function(t){h.allowEvent(t)}};r.displayEffect=function(e){"duration"in(e=e||{})&&(c.duration=e.duration),c.wrapInput(l(".waves-effect")),"ontouchstart"in t&&document.body.addEventListener("touchstart",n,!1),document.body.addEventListener("mousedown",n,!1)},r.attach=function(e){"input"===e.tagName.toLowerCase()&&(c.wrapInput([e]),e=e.parentNode),"ontouchstart"in t&&e.addEventListener("touchstart",n,!1),e.addEventListener("mousedown",n,!1)},t.Waves=r,document.addEventListener("DOMContentLoaded",function(){r.displayEffect()},!1)}(window),$(document).ready(function(){var t=document.querySelector(".main-menu"),e=document.querySelector(".header__top-bar"),s=document.querySelectorAll(".hamburger");s.length>0&&function(t,e,s){if("[object Object]"===Object.prototype.toString.call(t))for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.call(s,t[a],a,t);else for(var o=0,i=t.length;i>o;o++)e.call(s,t[o],o,t)}(s,function(s){s.addEventListener("click",function(){this.classList.toggle("is-active"),t.classList.toggle("active"),e.classList.toggle("active")},!1)}),$(".timetable").responsiveTabs({collapsible:!0,startCollapsed:!1,active:0}),$(".event__counter").countdown($(".event__counter").attr("data-start-date"),function(t){function e(t,e){var s=[2,0,1,1,1,2];return t[e%100>4&&e%100<20?2:s[e%10<5?e%10:5]]}var s=t.offset.weeks,a=t.offset.days,o=t.offset.hours,i=t.offset.minutes,n=e(["Неделя","Недели","Недель"],s),r=e(["День","Дня","Дней"],a),l=e(["Час","Часа","Часов"],o),c=e(["Минута","Минуты","Минут"],i);$(this).html(t.strftime("<span>"+s+n+"</span> <span>"+a+r+"</span> <span>"+o+l+"</span> <span>"+i+c+"</span> "))})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImpRdWVyeSIsIiQiLCJwYXJzZURhdGVTdHJpbmciLCJkYXRlU3RyaW5nIiwiRGF0ZSIsIlN0cmluZyIsIm1hdGNoIiwibWF0Y2hlcnMiLCJOdW1iZXIiLCJyZXBsYWNlIiwiRXJyb3IiLCJlc2NhcGVkUmVnRXhwIiwic3RyIiwic2FuaXRpemUiLCJ0b1N0cmluZyIsIlJlZ0V4cCIsInN0cmZ0aW1lIiwib2Zmc2V0T2JqZWN0IiwiZm9ybWF0IiwiZGlyZWN0aXZlcyIsImkiLCJsZW4iLCJsZW5ndGgiLCJkaXJlY3RpdmUiLCJyZWdleHAiLCJtb2RpZmllciIsInBsdXJhbCIsInZhbHVlIiwiRElSRUNUSVZFX0tFWV9NQVAiLCJoYXNPd25Qcm9wZXJ0eSIsInBsdXJhbGl6ZSIsImNvdW50Iiwic2luZ3VsYXIiLCJzcGxpdCIsIk1hdGgiLCJhYnMiLCJpbnN0YW5jZXMiLCJkZWZhdWx0T3B0aW9ucyIsInByZWNpc2lvbiIsImVsYXBzZSIsImRlZmVyIiwicHVzaCIsInNvdXJjZSIsImpvaW4iLCJZIiwibSIsIm4iLCJkIiwidyIsIlciLCJIIiwiTSIsIlMiLCJEIiwiSSIsIk4iLCJUIiwiQ291bnRkb3duIiwiZWwiLCJmaW5hbERhdGUiLCJvcHRpb25zIiwidGhpcyIsIiRlbCIsImludGVydmFsIiwib2Zmc2V0IiwiZXh0ZW5kIiwiZmlyc3RUaWNrIiwiaW5zdGFuY2VOdW1iZXIiLCJkYXRhIiwib24iLCJzZXRGaW5hbERhdGUiLCJzdGFydCIsInByb3RvdHlwZSIsImNsZWFySW50ZXJ2YWwiLCJzZWxmIiwidXBkYXRlIiwic2V0SW50ZXJ2YWwiLCJjYWxsIiwic3RvcCIsImRpc3BhdGNoRXZlbnQiLCJ0b2dnbGUiLCJwYXVzZSIsInJlc3VtZSIsInJlbW92ZSIsImNvdW50ZG93bkluc3RhbmNlIiwiY2xvc2VzdCIsIm5ld1RvdGFsU2Vjc0xlZnQiLCJub3ciLCJnZXRUaW1lIiwiY2VpbCIsInRvdGFsU2Vjc0xlZnQiLCJlbGFwc2VkIiwic2Vjb25kcyIsIm1pbnV0ZXMiLCJmbG9vciIsImhvdXJzIiwiZGF5cyIsImRheXNUb1dlZWsiLCJkYXlzVG9Nb250aCIsIndlZWtzIiwid2Vla3NUb01vbnRoIiwibW9udGhzIiwieWVhcnMiLCJnZXRGdWxsWWVhciIsInRvdGFsRGF5cyIsInRvdGFsSG91cnMiLCJ0b3RhbE1pbnV0ZXMiLCJ0b3RhbFNlY29uZHMiLCJldmVudE5hbWUiLCJldmVudCIsIkV2ZW50IiwidHJpZ2dlciIsImZuIiwiY291bnRkb3duIiwiYXJndW1lbnRzQXJyYXkiLCJBcnJheSIsInNsaWNlIiwiYXJndW1lbnRzIiwiZWFjaCIsInVuZGVmaW5lZCIsImluc3RhbmNlIiwibWV0aG9kIiwiYXBwbHkiLCJlcnJvciIsIndpbmRvdyIsIlJlc3BvbnNpdmVUYWJzIiwiZWxlbWVudCIsIiRlbGVtZW50IiwidGFicyIsInN0YXRlIiwicm90YXRlSW50ZXJ2YWwiLCIkcXVldWUiLCJkZWZhdWx0cyIsImluaXQiLCJhY3RpdmUiLCJkaXNhYmxlZCIsImNvbGxhcHNpYmxlIiwic3RhcnRDb2xsYXBzZWQiLCJyb3RhdGUiLCJzZXRIYXNoIiwiYW5pbWF0aW9uIiwiYW5pbWF0aW9uUXVldWUiLCJkdXJhdGlvbiIsImZsdWlkSGVpZ2h0Iiwic2Nyb2xsVG9BY2NvcmRpb24iLCJzY3JvbGxUb0FjY29yZGlvbk9uTG9hZCIsInNjcm9sbFRvQWNjb3JkaW9uT2Zmc2V0IiwiYWNjb3JkaW9uVGFiRWxlbWVudCIsImNsaWNrIiwiYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwibG9hZCIsImFjdGl2YXRlU3RhdGUiLCJjbGFzc2VzIiwic3RhdGVEZWZhdWx0Iiwic3RhdGVBY3RpdmUiLCJzdGF0ZURpc2FibGVkIiwic3RhdGVFeGNsdWRlZCIsImNvbnRhaW5lciIsInVsIiwidGFiIiwiYW5jaG9yIiwicGFuZWwiLCJhY2NvcmRpb25UaXRsZSIsIl90aGlzIiwiX2xvYWRFbGVtZW50cyIsIl9sb2FkQ2xhc3NlcyIsIl9sb2FkRXZlbnRzIiwiZSIsIl9zZXRTdGF0ZSIsIl9lcXVhbGlzZUhlaWdodHMiLCJ0YWJSZWYiLCJfZ2V0VGFiUmVmQnlTZWxlY3RvciIsImxvY2F0aW9uIiwiaGFzaCIsIm9UYWIiLCJfZ2V0VGFiIiwiX2lnbm9yZUhhc2hDaGFuZ2UiLCJfb3BlblRhYiIsInN0YXJ0Um90YXRpb24iLCJiaW5kIiwic3RhcnRUYWIiLCJfZ2V0U3RhcnRUYWIiLCIkdWwiLCJjaGlsZHJlbiIsImlkIiwiYWRkQ2xhc3MiLCIkYW5jaG9yIiwiJHBhbmVsIiwiJGFjY29yZGlvblRhYiIsIiRhY2NvcmRpb25BbmNob3IiLCJwYW5lbFNlbGVjdG9yIiwiJHRhYiIsImhhc0NsYXNzIiwiYXR0ciIsImluc2VydEJlZm9yZSIsImh0bWwiLCJhcHBlbmRUbyIsImluQXJyYXkiLCJzZWxlY3RvciIsImFjY29yZGlvblRhYiIsImFjY29yZGlvbkFuY2hvciIsInJlbW92ZUNsYXNzIiwiZkFjdGl2YXRlIiwiY3VycmVudCIsIl9nZXRDdXJyZW50VGFiIiwiYWN0aXZhdGVkVGFiIiwicHJldmVudERlZmF1bHQiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwib3JpZ2luIiwicHJvdG9jb2wiLCJob3N0bmFtZSIsInBvcnQiLCJwYXRobmFtZSIsInNlYXJjaCIsIl9pc0NvbGxhcGlzYmxlIiwiX2Nsb3NlVGFiIiwib2xkU3RhdGUiLCJzdGFydENvbGxhcHNlZElzU3RhdGUiLCJpcyIsIm5ld1N0YXRlIiwiY2xvc2VDdXJyZW50Iiwic3RvcFJvdGF0aW9uIiwic2Nyb2xsT2Zmc2V0IiwiX2RvVHJhbnNpdGlvbiIsInNjcm9sbE9uTG9hZCIsInR5cGUiLCJnZXRTdGF0ZSIsIl9pc0luVmlldyIsInRvcCIsImFuaW1hdGUiLCJzY3JvbGxUb3AiLCJkb1F1ZXVlIiwiZG9RdWV1ZU9uU3RhdGUiLCJjYWxsYmFjayIsImRlcXVldWUiLCJlZmZlY3QiLCJxdWV1ZSIsIm5leHQiLCJjb21wbGV0ZSIsIm51bVJlZiIsIl9nZXRDdXJyZW50VGFiUmVmIiwiX2dldE5leHRUYWJSZWYiLCJjdXJyZW50VGFiUmVmIiwibmV4dFRhYlJlZiIsIl9nZXRQcmV2aW91c1RhYlJlZiIsIm1heEhlaWdodCIsIm1hcCIsIm1heCIsImNzcyIsImhlaWdodCIsImRvY1ZpZXdUb3AiLCJkb2NWaWV3Qm90dG9tIiwiZWxlbVRvcCIsImVuYWJsZSIsImRpc2FibGUiLCJzcGVlZCIsImlzTnVtZXJpYyIsIm9wdGlvbiIsImtleSIsInJlc3BvbnNpdmVUYWJzIiwiYXJncyIsImlzV2luZG93Iiwib2JqIiwiZ2V0V2luZG93IiwiZWxlbSIsIm5vZGVUeXBlIiwiZGVmYXVsdFZpZXciLCJkb2NFbGVtIiwid2luIiwiYm94IiwibGVmdCIsImRvYyIsIm93bmVyRG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJwYWdlWU9mZnNldCIsImNsaWVudFRvcCIsInBhZ2VYT2Zmc2V0IiwiY2xpZW50TGVmdCIsImNvbnZlcnRTdHlsZSIsInN0eWxlIiwiYSIsImdldFdhdmVzRWZmZWN0RWxlbWVudCIsIlRvdWNoSGFuZGxlciIsImFsbG93RXZlbnQiLCJ0YXJnZXQiLCJzcmNFbGVtZW50IiwicGFyZW50Tm9kZSIsIlNWR0VsZW1lbnQiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwic2hvd0VmZmVjdCIsIkVmZmVjdCIsInNob3ciLCJhZGRFdmVudExpc3RlbmVyIiwiaGlkZSIsIldhdmVzIiwiJCQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJidXR0b24iLCJyaXBwbGUiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJwb3MiLCJyZWxhdGl2ZVkiLCJwYWdlWSIsInJlbGF0aXZlWCIsInBhZ2VYIiwic2NhbGUiLCJjbGllbnRXaWR0aCIsInRvdWNoZXMiLCJzZXRBdHRyaWJ1dGUiLCJyaXBwbGVTdHlsZSIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJ0b3VjaHVwIiwicmlwcGxlcyIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJnZXRBdHRyaWJ1dGUiLCJkZWxheSIsInNldFRpbWVvdXQiLCItd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24iLCItbW96LXRyYW5zaXRpb24tZHVyYXRpb24iLCItby10cmFuc2l0aW9uLWR1cmF0aW9uIiwidHJhbnNpdGlvbi1kdXJhdGlvbiIsIi13ZWJraXQtdHJhbnNmb3JtIiwiLW1vei10cmFuc2Zvcm0iLCItbXMtdHJhbnNmb3JtIiwiLW8tdHJhbnNmb3JtIiwicmVtb3ZlQ2hpbGQiLCJ3cmFwSW5wdXQiLCJlbGVtZW50cyIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhcmVudCIsIndyYXBwZXIiLCJlbGVtZW50U3R5bGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXBsYWNlQ2hpbGQiLCJhbGxvdyIsImRpc3BsYXlFZmZlY3QiLCJib2R5IiwiYXR0YWNoIiwicmVhZHkiLCJtZW51IiwicXVlcnlTZWxlY3RvciIsImhlYWRlclRvcEJhciIsImhhbWJ1cmdlcnMiLCJ0IiwibyIsInIiLCJPYmplY3QiLCJjIiwibCIsImZvckVhY2giLCJoYW1idXJnZXIiLCJjbGFzc0xpc3QiLCJkZWNsaW5hdGlvbiIsInRpdGxlcyIsIm51bWJlciIsImNhc2VzIiwid3ciLCJkZCIsImhoIiwibW0iXSwibWFwcGluZ3MiOiJDQXFCQSxTQUFVQSxHQUNOLGFBQ3NCLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDdkNELFFBQVMsVUFBWUQsR0FFckJBLEVBQVFHLFFBTGhCLENBT0csU0FBU0MsR0FDUixhQVVBLFNBQVNDLEVBQWdCQyxHQUNyQixHQUFJQSxhQUFzQkMsS0FDdEIsT0FBT0QsRUFFWCxHQUFJRSxPQUFPRixHQUFZRyxNQUFNQyxHQU96QixPQU5JRixPQUFPRixHQUFZRyxNQUFNLGNBQ3pCSCxFQUFhSyxPQUFPTCxJQUVwQkUsT0FBT0YsR0FBWUcsTUFBTSxRQUN6QkgsRUFBYUUsT0FBT0YsR0FBWU0sUUFBUSxNQUFPLE1BRTVDLElBQUlMLEtBQUtELEdBRWhCLE1BQU0sSUFB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bCBDb3VudGRvd24gZm9yIGpRdWVyeSB2Mi4yLjAgKGh0dHA6Ly9oaWxpb3MuZ2l0aHViLmlvL2pRdWVyeS5jb3VudGRvd24vKVxuICogQ29weXJpZ2h0IChjKSAyMDE2IEVkc29uIEhpbGlvc1xuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkgb2ZcbiAqIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW5cbiAqIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG9cbiAqIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mXG4gKiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sXG4gKiBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGxcbiAqIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1NcbiAqIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUlxuICogQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSXG4gKiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTlxuICogQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cbiAqL1xuKGZ1bmN0aW9uKGZhY3RvcnkpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsgXCJqcXVlcnlcIiBdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWN0b3J5KGpRdWVyeSk7XG4gICAgfVxufSkoZnVuY3Rpb24oJCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIHZhciBpbnN0YW5jZXMgPSBbXSwgbWF0Y2hlcnMgPSBbXSwgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgIHByZWNpc2lvbjogMTAwLFxuICAgICAgICBlbGFwc2U6IGZhbHNlLFxuICAgICAgICBkZWZlcjogZmFsc2VcbiAgICB9O1xuICAgIG1hdGNoZXJzLnB1c2goL15bMC05XSokLy5zb3VyY2UpO1xuICAgIG1hdGNoZXJzLnB1c2goLyhbMC05XXsxLDJ9XFwvKXsyfVswLTldezR9KCBbMC05XXsxLDJ9KDpbMC05XXsyfSl7Mn0pPy8uc291cmNlKTtcbiAgICBtYXRjaGVycy5wdXNoKC9bMC05XXs0fShbXFwvXFwtXVswLTldezEsMn0pezJ9KCBbMC05XXsxLDJ9KDpbMC05XXsyfSl7Mn0pPy8uc291cmNlKTtcbiAgICBtYXRjaGVycyA9IG5ldyBSZWdFeHAobWF0Y2hlcnMuam9pbihcInxcIikpO1xuICAgIGZ1bmN0aW9uIHBhcnNlRGF0ZVN0cmluZyhkYXRlU3RyaW5nKSB7XG4gICAgICAgIGlmIChkYXRlU3RyaW5nIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGVTdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFN0cmluZyhkYXRlU3RyaW5nKS5tYXRjaChtYXRjaGVycykpIHtcbiAgICAgICAgICAgIGlmIChTdHJpbmcoZGF0ZVN0cmluZykubWF0Y2goL15bMC05XSokLykpIHtcbiAgICAgICAgICAgICAgICBkYXRlU3RyaW5nID0gTnVtYmVyKGRhdGVTdHJpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFN0cmluZyhkYXRlU3RyaW5nKS5tYXRjaCgvXFwtLykpIHtcbiAgICAgICAgICAgICAgICBkYXRlU3RyaW5nID0gU3RyaW5nKGRhdGVTdHJpbmcpLnJlcGxhY2UoL1xcLS9nLCBcIi9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVN0cmluZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBjYXN0IGBcIiArIGRhdGVTdHJpbmcgKyBcImAgdG8gYSBkYXRlIG9iamVjdC5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIERJUkVDVElWRV9LRVlfTUFQID0ge1xuICAgICAgICBZOiBcInllYXJzXCIsXG4gICAgICAgIG06IFwibW9udGhzXCIsXG4gICAgICAgIG46IFwiZGF5c1RvTW9udGhcIixcbiAgICAgICAgZDogXCJkYXlzVG9XZWVrXCIsXG4gICAgICAgIHc6IFwid2Vla3NcIixcbiAgICAgICAgVzogXCJ3ZWVrc1RvTW9udGhcIixcbiAgICAgICAgSDogXCJob3Vyc1wiLFxuICAgICAgICBNOiBcIm1pbnV0ZXNcIixcbiAgICAgICAgUzogXCJzZWNvbmRzXCIsXG4gICAgICAgIEQ6IFwidG90YWxEYXlzXCIsXG4gICAgICAgIEk6IFwidG90YWxIb3Vyc1wiLFxuICAgICAgICBOOiBcInRvdGFsTWludXRlc1wiLFxuICAgICAgICBUOiBcInRvdGFsU2Vjb25kc1wiXG4gICAgfTtcbiAgICBmdW5jdGlvbiBlc2NhcGVkUmVnRXhwKHN0cikge1xuICAgICAgICB2YXIgc2FuaXRpemUgPSBzdHIudG9TdHJpbmcoKS5yZXBsYWNlKC8oWy4/KiteJFtcXF1cXFxcKCl7fXwtXSkvZywgXCJcXFxcJDFcIik7XG4gICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHNhbml0aXplKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RyZnRpbWUob2Zmc2V0T2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihmb3JtYXQpIHtcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVzID0gZm9ybWF0Lm1hdGNoKC8lKC18ISk/W0EtWl17MX0oOlteO10rOyk/L2dpKTtcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV0ubWF0Y2goLyUoLXwhKT8oW2EtekEtWl17MX0pKDpbXjtdKzspPy8pLCByZWdleHAgPSBlc2NhcGVkUmVnRXhwKGRpcmVjdGl2ZVswXSksIG1vZGlmaWVyID0gZGlyZWN0aXZlWzFdIHx8IFwiXCIsIHBsdXJhbCA9IGRpcmVjdGl2ZVszXSB8fCBcIlwiLCB2YWx1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZVsyXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKERJUkVDVElWRV9LRVlfTUFQLmhhc093blByb3BlcnR5KGRpcmVjdGl2ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gRElSRUNUSVZFX0tFWV9NQVBbZGlyZWN0aXZlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gTnVtYmVyKG9mZnNldE9iamVjdFt2YWx1ZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyID09PSBcIiFcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGx1cmFsaXplKHBsdXJhbCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGlmaWVyID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBcIjBcIiArIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UocmVnZXhwLCB2YWx1ZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKC8lJS8sIFwiJVwiKTtcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXQ7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBsdXJhbGl6ZShmb3JtYXQsIGNvdW50KSB7XG4gICAgICAgIHZhciBwbHVyYWwgPSBcInNcIiwgc2luZ3VsYXIgPSBcIlwiO1xuICAgICAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgICAgICBmb3JtYXQgPSBmb3JtYXQucmVwbGFjZSgvKDp8O3xcXHMpL2dpLCBcIlwiKS5zcGxpdCgvXFwsLyk7XG4gICAgICAgICAgICBpZiAoZm9ybWF0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHBsdXJhbCA9IGZvcm1hdFswXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2luZ3VsYXIgPSBmb3JtYXRbMF07XG4gICAgICAgICAgICAgICAgcGx1cmFsID0gZm9ybWF0WzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChNYXRoLmFicyhjb3VudCkgPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gcGx1cmFsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpbmd1bGFyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBDb3VudGRvd24gPSBmdW5jdGlvbihlbCwgZmluYWxEYXRlLCBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMuZWwgPSBlbDtcbiAgICAgICAgdGhpcy4kZWwgPSAkKGVsKTtcbiAgICAgICAgdGhpcy5pbnRlcnZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0ge307XG4gICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZmlyc3RUaWNrID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pbnN0YW5jZU51bWJlciA9IGluc3RhbmNlcy5sZW5ndGg7XG4gICAgICAgIGluc3RhbmNlcy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLiRlbC5kYXRhKFwiY291bnRkb3duLWluc3RhbmNlXCIsIHRoaXMuaW5zdGFuY2VOdW1iZXIpO1xuICAgICAgICBpZiAob3B0aW9ucykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbC5vbihcInVwZGF0ZS5jb3VudGRvd25cIiwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kZWwub24oXCJzdG9wZWQuY291bnRkb3duXCIsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLm9uKFwiZmluaXNoLmNvdW50ZG93blwiLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gJC5leHRlbmQoe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldEZpbmFsRGF0ZShmaW5hbERhdGUpO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRlZmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAkLmV4dGVuZChDb3VudGRvd24ucHJvdG90eXBlLCB7XG4gICAgICAgIHN0YXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVydmFsICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgc2VsZi51cGRhdGUuY2FsbChzZWxmKTtcbiAgICAgICAgICAgIH0sIHRoaXMub3B0aW9ucy5wcmVjaXNpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLmludGVydmFsID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcInN0b3BlZFwiKTtcbiAgICAgICAgfSxcbiAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGF1c2U6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VtZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH0sXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0aGlzLnN0b3AuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIGluc3RhbmNlc1t0aGlzLmluc3RhbmNlTnVtYmVyXSA9IG51bGw7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy4kZWwuZGF0YSgpLmNvdW50ZG93bkluc3RhbmNlO1xuICAgICAgICB9LFxuICAgICAgICBzZXRGaW5hbERhdGU6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZpbmFsRGF0ZSA9IHBhcnNlRGF0ZVN0cmluZyh2YWx1ZSk7XG4gICAgICAgIH0sXG4gICAgICAgIHVwZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kZWwuY2xvc2VzdChcImh0bWxcIikubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbm93ID0gbmV3IERhdGUoKSwgbmV3VG90YWxTZWNzTGVmdDtcbiAgICAgICAgICAgIG5ld1RvdGFsU2Vjc0xlZnQgPSB0aGlzLmZpbmFsRGF0ZS5nZXRUaW1lKCkgLSBub3cuZ2V0VGltZSgpO1xuICAgICAgICAgICAgbmV3VG90YWxTZWNzTGVmdCA9IE1hdGguY2VpbChuZXdUb3RhbFNlY3NMZWZ0IC8gMWUzKTtcbiAgICAgICAgICAgIG5ld1RvdGFsU2Vjc0xlZnQgPSAhdGhpcy5vcHRpb25zLmVsYXBzZSAmJiBuZXdUb3RhbFNlY3NMZWZ0IDwgMCA/IDAgOiBNYXRoLmFicyhuZXdUb3RhbFNlY3NMZWZ0KTtcbiAgICAgICAgICAgIGlmICh0aGlzLnRvdGFsU2Vjc0xlZnQgPT09IG5ld1RvdGFsU2Vjc0xlZnQgfHwgdGhpcy5maXJzdFRpY2spIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpcnN0VGljayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbFNlY3NMZWZ0ID0gbmV3VG90YWxTZWNzTGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZCA9IG5vdyA+PSB0aGlzLmZpbmFsRGF0ZTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0ID0ge1xuICAgICAgICAgICAgICAgIHNlY29uZHM6IHRoaXMudG90YWxTZWNzTGVmdCAlIDYwLFxuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjApICUgNjAsXG4gICAgICAgICAgICAgICAgaG91cnM6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjAgLyA2MCkgJSAyNCxcbiAgICAgICAgICAgICAgICBkYXlzOiBNYXRoLmZsb29yKHRoaXMudG90YWxTZWNzTGVmdCAvIDYwIC8gNjAgLyAyNCkgJSA3LFxuICAgICAgICAgICAgICAgIGRheXNUb1dlZWs6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjAgLyA2MCAvIDI0KSAlIDcsXG4gICAgICAgICAgICAgICAgZGF5c1RvTW9udGg6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjAgLyA2MCAvIDI0ICUgMzAuNDM2OCksXG4gICAgICAgICAgICAgICAgd2Vla3M6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjAgLyA2MCAvIDI0IC8gNyksXG4gICAgICAgICAgICAgICAgd2Vla3NUb01vbnRoOiBNYXRoLmZsb29yKHRoaXMudG90YWxTZWNzTGVmdCAvIDYwIC8gNjAgLyAyNCAvIDcpICUgNCxcbiAgICAgICAgICAgICAgICBtb250aHM6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjAgLyA2MCAvIDI0IC8gMzAuNDM2OCksXG4gICAgICAgICAgICAgICAgeWVhcnM6IE1hdGguYWJzKHRoaXMuZmluYWxEYXRlLmdldEZ1bGxZZWFyKCkgLSBub3cuZ2V0RnVsbFllYXIoKSksXG4gICAgICAgICAgICAgICAgdG90YWxEYXlzOiBNYXRoLmZsb29yKHRoaXMudG90YWxTZWNzTGVmdCAvIDYwIC8gNjAgLyAyNCksXG4gICAgICAgICAgICAgICAgdG90YWxIb3VyczogTWF0aC5mbG9vcih0aGlzLnRvdGFsU2Vjc0xlZnQgLyA2MCAvIDYwKSxcbiAgICAgICAgICAgICAgICB0b3RhbE1pbnV0ZXM6IE1hdGguZmxvb3IodGhpcy50b3RhbFNlY3NMZWZ0IC8gNjApLFxuICAgICAgICAgICAgICAgIHRvdGFsU2Vjb25kczogdGhpcy50b3RhbFNlY3NMZWZ0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZWxhcHNlICYmIHRoaXMudG90YWxTZWNzTGVmdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KFwidXBkYXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkaXNwYXRjaEV2ZW50OiBmdW5jdGlvbihldmVudE5hbWUpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9ICQuRXZlbnQoZXZlbnROYW1lICsgXCIuY291bnRkb3duXCIpO1xuICAgICAgICAgICAgZXZlbnQuZmluYWxEYXRlID0gdGhpcy5maW5hbERhdGU7XG4gICAgICAgICAgICBldmVudC5lbGFwc2VkID0gdGhpcy5lbGFwc2VkO1xuICAgICAgICAgICAgZXZlbnQub2Zmc2V0ID0gJC5leHRlbmQoe30sIHRoaXMub2Zmc2V0KTtcbiAgICAgICAgICAgIGV2ZW50LnN0cmZ0aW1lID0gc3RyZnRpbWUodGhpcy5vZmZzZXQpO1xuICAgICAgICAgICAgdGhpcy4kZWwudHJpZ2dlcihldmVudCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICAkLmZuLmNvdW50ZG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJndW1lbnRzQXJyYXkgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlTnVtYmVyID0gJCh0aGlzKS5kYXRhKFwiY291bnRkb3duLWluc3RhbmNlXCIpO1xuICAgICAgICAgICAgaWYgKGluc3RhbmNlTnVtYmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBpbnN0YW5jZXNbaW5zdGFuY2VOdW1iZXJdLCBtZXRob2QgPSBhcmd1bWVudHNBcnJheVswXTtcbiAgICAgICAgICAgICAgICBpZiAoQ291bnRkb3duLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShtZXRob2QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlW21ldGhvZF0uYXBwbHkoaW5zdGFuY2UsIGFyZ3VtZW50c0FycmF5LnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0cmluZyhtZXRob2QpLm1hdGNoKC9eWyRBLVpfXVswLTlBLVpfJF0qJC9pKSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5zZXRGaW5hbERhdGUuY2FsbChpbnN0YW5jZSwgbWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAkLmVycm9yKFwiTWV0aG9kICVzIGRvZXMgbm90IGV4aXN0IG9uIGpRdWVyeS5jb3VudGRvd25cIi5yZXBsYWNlKC9cXCVzL2dpLCBtZXRob2QpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ldyBDb3VudGRvd24odGhpcywgYXJndW1lbnRzQXJyYXlbMF0sIGFyZ3VtZW50c0FycmF5WzFdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuXG47KGZ1bmN0aW9uICggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7XHJcblxyXG4gICAgLyoqIERlZmF1bHQgc2V0dGluZ3MgKi9cclxuICAgIHZhciBkZWZhdWx0cyA9IHtcclxuICAgICAgICBhY3RpdmU6IG51bGwsXHJcbiAgICAgICAgZXZlbnQ6ICdjbGljaycsXHJcbiAgICAgICAgZGlzYWJsZWQ6IFtdLFxyXG4gICAgICAgIGNvbGxhcHNpYmxlOiAnYWNjb3JkaW9uJyxcclxuICAgICAgICBzdGFydENvbGxhcHNlZDogZmFsc2UsXHJcbiAgICAgICAgcm90YXRlOiBmYWxzZSxcclxuICAgICAgICBzZXRIYXNoOiBmYWxzZSxcclxuICAgICAgICBhbmltYXRpb246ICdkZWZhdWx0JyxcclxuICAgICAgICBhbmltYXRpb25RdWV1ZTogZmFsc2UsXHJcbiAgICAgICAgZHVyYXRpb246IDUwMCxcclxuICAgICAgICBmbHVpZEhlaWdodDogdHJ1ZSxcclxuICAgICAgICBzY3JvbGxUb0FjY29yZGlvbjogZmFsc2UsXHJcbiAgICAgICAgc2Nyb2xsVG9BY2NvcmRpb25PbkxvYWQ6IHRydWUsXHJcbiAgICAgICAgc2Nyb2xsVG9BY2NvcmRpb25PZmZzZXQ6IDAsXHJcbiAgICAgICAgYWNjb3JkaW9uVGFiRWxlbWVudDogJzxkaXY+PC9kaXY+JyxcclxuICAgICAgICBjbGljazogZnVuY3Rpb24oKXt9LFxyXG4gICAgICAgIGFjdGl2YXRlOiBmdW5jdGlvbigpe30sXHJcbiAgICAgICAgZGVhY3RpdmF0ZTogZnVuY3Rpb24oKXt9LFxyXG4gICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7fSxcclxuICAgICAgICBhY3RpdmF0ZVN0YXRlOiBmdW5jdGlvbigpe30sXHJcbiAgICAgICAgY2xhc3Nlczoge1xyXG4gICAgICAgICAgICBzdGF0ZURlZmF1bHQ6ICdyLXRhYnMtc3RhdGUtZGVmYXVsdCcsXHJcbiAgICAgICAgICAgIHN0YXRlQWN0aXZlOiAnci10YWJzLXN0YXRlLWFjdGl2ZScsXHJcbiAgICAgICAgICAgIHN0YXRlRGlzYWJsZWQ6ICdyLXRhYnMtc3RhdGUtZGlzYWJsZWQnLFxyXG4gICAgICAgICAgICBzdGF0ZUV4Y2x1ZGVkOiAnci10YWJzLXN0YXRlLWV4Y2x1ZGVkJyxcclxuICAgICAgICAgICAgY29udGFpbmVyOiAnci10YWJzJyxcclxuICAgICAgICAgICAgdWw6ICdyLXRhYnMtbmF2JyxcclxuICAgICAgICAgICAgdGFiOiAnci10YWJzLXRhYicsXHJcbiAgICAgICAgICAgIGFuY2hvcjogJ3ItdGFicy1hbmNob3InLFxyXG4gICAgICAgICAgICBwYW5lbDogJ3ItdGFicy1wYW5lbCcsXHJcbiAgICAgICAgICAgIGFjY29yZGlvblRpdGxlOiAnci10YWJzLWFjY29yZGlvbi10aXRsZSdcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVzcG9uc2l2ZSBUYWJzXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBlbGVtZW50IC0gVGhlIEhUTUwgZWxlbWVudCB0aGUgdmFsaWRhdG9yIHNob3VsZCBiZSBib3VuZCB0b1xyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnMgLSBBbiBvcHRpb24gbWFwXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIFJlc3BvbnNpdmVUYWJzKGVsZW1lbnQsIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50OyAvLyBTZWxlY3RlZCBET00gZWxlbWVudFxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQgPSAkKGVsZW1lbnQpOyAvLyBTZWxlY3RlZCBqUXVlcnkgZWxlbWVudFxyXG5cclxuICAgICAgICB0aGlzLnRhYnMgPSBbXTsgLy8gQ3JlYXRlIHRhYnMgYXJyYXlcclxuICAgICAgICB0aGlzLnN0YXRlID0gJyc7IC8vIERlZmluZSB0aGUgcGx1Z2luIHN0YXRlICh0YWJzL2FjY29yZGlvbilcclxuICAgICAgICB0aGlzLnJvdGF0ZUludGVydmFsID0gMDsgLy8gRGVmaW5lIHJvdGF0ZSBpbnRlcnZhbFxyXG4gICAgICAgIHRoaXMuJHF1ZXVlID0gJCh7fSk7XHJcblxyXG4gICAgICAgIC8vIEV4dGVuZCB0aGUgZGVmYXVsdHMgd2l0aCB0aGUgcGFzc2VkIG9wdGlvbnNcclxuICAgICAgICB0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCgge30sIGRlZmF1bHRzLCBvcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBpbml0aWFsaXplcyB0aGUgdGFiIHBsdWdpblxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyBMb2FkIGFsbCB0aGUgZWxlbWVudHNcclxuICAgICAgICB0aGlzLnRhYnMgPSB0aGlzLl9sb2FkRWxlbWVudHMoKTtcclxuICAgICAgICB0aGlzLl9sb2FkQ2xhc3NlcygpO1xyXG4gICAgICAgIHRoaXMuX2xvYWRFdmVudHMoKTtcclxuXHJcbiAgICAgICAgLy8gV2luZG93IHJlc2l6ZSBiaW5kIHRvIGNoZWNrIHN0YXRlXHJcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShlKTtcclxuICAgICAgICAgICAgaWYoX3RoaXMub3B0aW9ucy5mbHVpZEhlaWdodCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX2VxdWFsaXNlSGVpZ2h0cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEhhc2hjaGFuZ2UgZXZlbnRcclxuICAgICAgICAkKHdpbmRvdykub24oJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciB0YWJSZWYgPSBfdGhpcy5fZ2V0VGFiUmVmQnlTZWxlY3Rvcih3aW5kb3cubG9jYXRpb24uaGFzaCk7XHJcbiAgICAgICAgICAgIHZhciBvVGFiID0gX3RoaXMuX2dldFRhYih0YWJSZWYpO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYSB0YWIgaXMgZm91bmQgdGhhdCBtYXRjaGVzIHRoZSBoYXNoXHJcbiAgICAgICAgICAgIGlmKHRhYlJlZiA+PSAwICYmICFvVGFiLl9pZ25vcmVIYXNoQ2hhbmdlICYmICFvVGFiLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzbywgb3BlbiB0aGUgdGFiIGFuZCBhdXRvIGNsb3NlIHRoZSBjdXJyZW50IG9uZVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuX29wZW5UYWIoZSwgX3RoaXMuX2dldFRhYih0YWJSZWYpLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdGFydCByb3RhdGUgZXZlbnQgaWYgcm90YXRlIG9wdGlvbiBpcyBkZWZpbmVkXHJcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLnJvdGF0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFydFJvdGF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBTZXQgZmx1aWQgaGVpZ2h0XHJcbiAgICAgICAgaWYodGhpcy5vcHRpb25zLmZsdWlkSGVpZ2h0ICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9lcXVhbGlzZUhlaWdodHMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgLy8gRGVmaW5lIHBsdWdpbiBldmVudHNcclxuICAgICAgICAvL1xyXG5cclxuICAgICAgICAvLyBBY3RpdmF0ZTogdGhpcyBldmVudCBpcyBjYWxsZWQgd2hlbiBhIHRhYiBpcyBzZWxlY3RlZFxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuYmluZCgndGFicy1jbGljaycsIGZ1bmN0aW9uKGUsIG9UYWIpIHtcclxuICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5jbGljay5jYWxsKHRoaXMsIGUsIG9UYWIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBY3RpdmF0ZTogdGhpcyBldmVudCBpcyBjYWxsZWQgd2hlbiBhIHRhYiBpcyBzZWxlY3RlZFxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQuYmluZCgndGFicy1hY3RpdmF0ZScsIGZ1bmN0aW9uKGUsIG9UYWIpIHtcclxuICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5hY3RpdmF0ZS5jYWxsKHRoaXMsIGUsIG9UYWIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIERlYWN0aXZhdGU6IHRoaXMgZXZlbnQgaXMgY2FsbGVkIHdoZW4gYSB0YWIgaXMgY2xvc2VkXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5iaW5kKCd0YWJzLWRlYWN0aXZhdGUnLCBmdW5jdGlvbihlLCBvVGFiKSB7XHJcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMuZGVhY3RpdmF0ZS5jYWxsKHRoaXMsIGUsIG9UYWIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIEFjdGl2YXRlIFN0YXRlOiB0aGlzIGV2ZW50IGlzIGNhbGxlZCB3aGVuIHRoZSBwbHVnaW4gc3dpdGNoZXMgc3RhdGVzXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5iaW5kKCd0YWJzLWFjdGl2YXRlLXN0YXRlJywgZnVuY3Rpb24oZSwgc3RhdGUpIHtcclxuICAgICAgICAgICAgX3RoaXMub3B0aW9ucy5hY3RpdmF0ZVN0YXRlLmNhbGwodGhpcywgZSwgc3RhdGUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMb2FkOiB0aGlzIGV2ZW50IGlzIGNhbGxlZCB3aGVuIHRoZSBwbHVnaW4gaGFzIGJlZW4gbG9hZGVkXHJcbiAgICAgICAgdGhpcy4kZWxlbWVudC5iaW5kKCd0YWJzLWxvYWQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBzdGFydFRhYjtcclxuXHJcbiAgICAgICAgICAgIF90aGlzLl9zZXRTdGF0ZShlKTsgLy8gU2V0IHN0YXRlXHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcGFuZWwgc2hvdWxkIGJlIGNvbGxhcGVkIG9uIGxvYWRcclxuICAgICAgICAgICAgaWYoX3RoaXMub3B0aW9ucy5zdGFydENvbGxhcHNlZCAhPT0gdHJ1ZSAmJiAhKF90aGlzLm9wdGlvbnMuc3RhcnRDb2xsYXBzZWQgPT09ICdhY2NvcmRpb24nICYmIF90aGlzLnN0YXRlID09PSAnYWNjb3JkaW9uJykpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBzdGFydFRhYiA9IF90aGlzLl9nZXRTdGFydFRhYigpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE9wZW4gdGhlIGluaXRpYWwgdGFiXHJcbiAgICAgICAgICAgICAgICBfdGhpcy5fb3BlblRhYihlLCBzdGFydFRhYik7IC8vIE9wZW4gZmlyc3QgdGFiXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgY2FsbGJhY2sgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMubG9hZC5jYWxsKHRoaXMsIGUsIHN0YXJ0VGFiKTsgLy8gQ2FsbCB0aGUgbG9hZCBjYWxsYmFja1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gVHJpZ2dlciBsb2FkZWQgZXZlbnRcclxuICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3RhYnMtbG9hZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL1xyXG4gICAgLy8gUFJJVkFURSBGVU5DVElPTlNcclxuICAgIC8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGxvYWRzIHRoZSB0YWIgZWxlbWVudHMgYW5kIHN0b3JlcyB0aGVtIGluIGFuIGFycmF5XHJcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IEFycmF5IG9mIHRhYiBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2xvYWRFbGVtZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyICR1bCA9IHRoaXMuJGVsZW1lbnQuY2hpbGRyZW4oJ3VsOmZpcnN0Jyk7XHJcbiAgICAgICAgdmFyIHRhYnMgPSBbXTtcclxuICAgICAgICB2YXIgaWQgPSAwO1xyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIGNsYXNzZXMgdG8gdGhlIGJhc2ljIGh0bWwgZWxlbWVudHNcclxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy5jb250YWluZXIpOyAvLyBUYWIgY29udGFpbmVyXHJcbiAgICAgICAgJHVsLmFkZENsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy51bCk7IC8vIExpc3QgY29udGFpbmVyXHJcblxyXG4gICAgICAgIC8vIEdldCB0YWIgYnV0dG9ucyBhbmQgc3RvcmUgdGhlaXIgZGF0YSBpbiBhbiBhcnJheVxyXG4gICAgICAgICQoJ2xpJywgJHVsKS5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgJHRhYiA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgIHZhciBpc0V4Y2x1ZGVkID0gJHRhYi5oYXNDbGFzcyhfdGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVFeGNsdWRlZCk7XHJcbiAgICAgICAgICAgIHZhciAkYW5jaG9yLCAkcGFuZWwsICRhY2NvcmRpb25UYWIsICRhY2NvcmRpb25BbmNob3IsIHBhbmVsU2VsZWN0b3I7XHJcblxyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgdGFiIHNob3VsZCBiZSBleGNsdWRlZFxyXG4gICAgICAgICAgICBpZighaXNFeGNsdWRlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICRhbmNob3IgPSAkKCdhJywgJHRhYik7XHJcbiAgICAgICAgICAgICAgICBwYW5lbFNlbGVjdG9yID0gJGFuY2hvci5hdHRyKCdocmVmJyk7XHJcbiAgICAgICAgICAgICAgICAkcGFuZWwgPSAkKHBhbmVsU2VsZWN0b3IpO1xyXG4gICAgICAgICAgICAgICAgJGFjY29yZGlvblRhYiA9ICQoX3RoaXMub3B0aW9ucy5hY2NvcmRpb25UYWJFbGVtZW50KS5pbnNlcnRCZWZvcmUoJHBhbmVsKTtcclxuICAgICAgICAgICAgICAgICRhY2NvcmRpb25BbmNob3IgPSAkKCc8YT48L2E+JykuYXR0cignaHJlZicsIHBhbmVsU2VsZWN0b3IpLmh0bWwoJGFuY2hvci5odG1sKCkpLmFwcGVuZFRvKCRhY2NvcmRpb25UYWIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvVGFiID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZ25vcmVIYXNoQ2hhbmdlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBpZDogaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6ICgkLmluQXJyYXkoaWQsIF90aGlzLm9wdGlvbnMuZGlzYWJsZWQpICE9PSAtMSksXHJcbiAgICAgICAgICAgICAgICAgICAgdGFiOiAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFuY2hvcjogJCgnYScsICR0YWIpLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhbmVsOiAkcGFuZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0b3I6IHBhbmVsU2VsZWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3JkaW9uVGFiOiAkYWNjb3JkaW9uVGFiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjY29yZGlvbkFuY2hvcjogJGFjY29yZGlvbkFuY2hvcixcclxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIDF1cCB0aGUgSURcclxuICAgICAgICAgICAgICAgIGlkKys7XHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgdG8gdGFiIGFycmF5XHJcbiAgICAgICAgICAgICAgICB0YWJzLnB1c2gob1RhYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdGFicztcclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBhZGRzIGNsYXNzZXMgdG8gdGhlIHRhYiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2xvYWRDbGFzc2VzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPHRoaXMudGFicy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNbaV0udGFiLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGVmYXVsdCkuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMudGFiKTtcclxuICAgICAgICAgICAgdGhpcy50YWJzW2ldLmFuY2hvci5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5hbmNob3IpO1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNbaV0ucGFuZWwuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVEZWZhdWx0KS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5wYW5lbCk7XHJcbiAgICAgICAgICAgIHRoaXMudGFic1tpXS5hY2NvcmRpb25UYWIuYWRkQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuYWNjb3JkaW9uVGl0bGUpO1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNbaV0uYWNjb3JkaW9uQW5jaG9yLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLmFuY2hvcik7XHJcbiAgICAgICAgICAgIGlmKHRoaXMudGFic1tpXS5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzW2ldLnRhYi5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURlZmF1bHQpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGlzYWJsZWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzW2ldLmFjY29yZGlvblRhYi5yZW1vdmVDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURlZmF1bHQpLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGlzYWJsZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gYWRkcyBldmVudHMgdG8gdGhlIHRhYiBlbGVtZW50c1xyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2xvYWRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyBEZWZpbmUgYWN0aXZhdGUgZXZlbnQgb24gYSB0YWIgZWxlbWVudFxyXG4gICAgICAgIHZhciBmQWN0aXZhdGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIHZhciBjdXJyZW50ID0gX3RoaXMuX2dldEN1cnJlbnRUYWIoKTsgLy8gRmV0Y2ggY3VycmVudCB0YWJcclxuICAgICAgICAgICAgdmFyIGFjdGl2YXRlZFRhYiA9IGUuZGF0YS50YWI7XHJcblxyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIGNsaWNrIGV2ZW50IGZvciB3aGVuZXZlciBhIHRhYiBpcyBjbGlja2VkL3RvdWNoZWQgZXZlbiBpZiB0aGUgdGFiIGlzIGRpc2FibGVkXHJcbiAgICAgICAgICAgIGFjdGl2YXRlZFRhYi50YWIudHJpZ2dlcigndGFicy1jbGljaycsIGFjdGl2YXRlZFRhYik7XHJcblxyXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhpcyB0YWIgaXNuJ3QgZGlzYWJsZWRcclxuICAgICAgICAgICAgaWYoIWFjdGl2YXRlZFRhYi5kaXNhYmxlZCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIGhhc2ggaGFzIHRvIGJlIHNldCBpbiB0aGUgVVJMIGxvY2F0aW9uXHJcbiAgICAgICAgICAgICAgICBpZihfdGhpcy5vcHRpb25zLnNldEhhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGhhc2ggdXNpbmcgdGhlIGhpc3RvcnkgYXBpIGlmIGF2YWlsYWJsZSB0byB0YWNrbGUgQ2hyb21lcyByZXBhaW50IGJ1ZyBvbiBoYXNoIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKGhpc3RvcnkucHVzaFN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeCBmb3IgbWlzc2luZyB3aW5kb3cubG9jYXRpb24ub3JpZ2luIGluIElFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2luZG93LmxvY2F0aW9uLm9yaWdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLm9yaWdpbiA9IHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArICh3aW5kb3cubG9jYXRpb24ucG9ydCA/ICc6JyArIHdpbmRvdy5sb2NhdGlvbi5wb3J0OiAnJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpc3RvcnkucHVzaFN0YXRlKG51bGwsIG51bGwsIHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoICsgYWN0aXZhdGVkVGFiLnNlbGVjdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPdGhlcndpc2UgZmFsbGJhY2sgdG8gdGhlIGhhc2ggdXBkYXRlIGZvciBzaXRlcyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIGhpc3RvcnkgYXBpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gYWN0aXZhdGVkVGFiLnNlbGVjdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBlLmRhdGEudGFiLl9pZ25vcmVIYXNoQ2hhbmdlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgYWN0aXZhdGVkIHRhYiBpc250IHRoZSBjdXJyZW50IG9uZSBvciBpZiBpdHMgY29sbGFwc2libGUuIElmIG5vdCwgZG8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudCAhPT0gYWN0aXZhdGVkVGFiIHx8IF90aGlzLl9pc0NvbGxhcGlzYmxlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgYWN0aXZhdGVkIHRhYiBpcyBlaXRoZXIgYW5vdGhlciB0YWIgb2YgdGhlIGN1cnJlbnQgb25lLiBJZiBpdCdzIHRoZSBjdXJyZW50IHRhYiBpdCBpcyBjb2xsYXBzaWJsZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVpdGhlciB3YXksIHRoZSBjdXJyZW50IHRhYiBjYW4gYmUgY2xvc2VkXHJcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuX2Nsb3NlVGFiKGUsIGN1cnJlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgYWN0aXZhdGVkIHRhYiBpc250IHRoZSBjdXJyZW50IG9uZSBvciBpZiBpdCBpc250IGNvbGxhcHNpYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY3VycmVudCAhPT0gYWN0aXZhdGVkVGFiIHx8ICFfdGhpcy5faXNDb2xsYXBpc2JsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9vcGVuVGFiKGUsIGFjdGl2YXRlZFRhYiwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIExvb3AgdGFic1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLnRhYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQWRkIGFjdGl2YXRlIGZ1bmN0aW9uIHRvIHRoZSB0YWIgYW5kIGFjY29yZGlvbiBzZWxlY3Rpb24gZWxlbWVudFxyXG4gICAgICAgICAgICB0aGlzLnRhYnNbaV0uYW5jaG9yLm9uKF90aGlzLm9wdGlvbnMuZXZlbnQsIHt0YWI6IF90aGlzLnRhYnNbaV19LCBmQWN0aXZhdGUpO1xyXG4gICAgICAgICAgICB0aGlzLnRhYnNbaV0uYWNjb3JkaW9uQW5jaG9yLm9uKF90aGlzLm9wdGlvbnMuZXZlbnQsIHt0YWI6IF90aGlzLnRhYnNbaV19LCBmQWN0aXZhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGdldHMgdGhlIHRhYiB0aGF0IHNob3VsZCBiZSBvcGVuZWQgYXQgc3RhcnRcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRhYiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLl9nZXRTdGFydFRhYiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB0YWJSZWYgPSB0aGlzLl9nZXRUYWJSZWZCeVNlbGVjdG9yKHdpbmRvdy5sb2NhdGlvbi5oYXNoKTtcclxuICAgICAgICB2YXIgc3RhcnRUYWI7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBwYWdlIGhhcyBhIGhhc2ggc2V0IHRoYXQgaXMgbGlua2VkIHRvIGEgdGFiXHJcbiAgICAgICAgaWYodGFiUmVmID49IDAgJiYgIXRoaXMuX2dldFRhYih0YWJSZWYpLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHNvLCBzZXQgdGhlIGN1cnJlbnQgdGFiIHRvIHRoZSBsaW5rZWQgdGFiXHJcbiAgICAgICAgICAgIHN0YXJ0VGFiID0gdGhpcy5fZ2V0VGFiKHRhYlJlZik7XHJcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMub3B0aW9ucy5hY3RpdmUgPiAwICYmICF0aGlzLl9nZXRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSkuZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgc3RhcnRUYWIgPSB0aGlzLl9nZXRUYWIodGhpcy5vcHRpb25zLmFjdGl2ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSWYgbm90LCBqdXN0IGdldCB0aGUgZmlyc3Qgb25lXHJcbiAgICAgICAgICAgIHN0YXJ0VGFiID0gdGhpcy5fZ2V0VGFiKDApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0VGFiO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gc2V0cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgcGx1Z2luXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gVGhlIGV2ZW50IHRoYXQgdHJpZ2dlcnMgdGhlIHN0YXRlIGNoYW5nZVxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX3NldFN0YXRlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciAkdWwgPSAkKCd1bDpmaXJzdCcsIHRoaXMuJGVsZW1lbnQpO1xyXG4gICAgICAgIHZhciBvbGRTdGF0ZSA9IHRoaXMuc3RhdGU7XHJcbiAgICAgICAgdmFyIHN0YXJ0Q29sbGFwc2VkSXNTdGF0ZSA9ICh0eXBlb2YgdGhpcy5vcHRpb25zLnN0YXJ0Q29sbGFwc2VkID09PSAnc3RyaW5nJyk7XHJcbiAgICAgICAgdmFyIHN0YXJ0VGFiO1xyXG5cclxuICAgICAgICAvLyBUaGUgc3RhdGUgaXMgYmFzZWQgb24gdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRhYnMgbGlzdFxyXG4gICAgICAgIGlmKCR1bC5pcygnOnZpc2libGUnKSl7XHJcbiAgICAgICAgICAgIC8vIFRhYiBsaXN0IGlzIHZpc2libGUsIHNvIHRoZSBzdGF0ZSBpcyAndGFicydcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9ICd0YWJzJztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBUYWIgbGlzdCBpcyBpbnZpc2libGUsIHNvIHRoZSBzdGF0ZSBpcyAnYWNjb3JkaW9uJ1xyXG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gJ2FjY29yZGlvbic7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgbmV3IHN0YXRlIGlzIGRpZmZlcmVudCBmcm9tIHRoZSBvbGQgc3RhdGVcclxuICAgICAgICBpZih0aGlzLnN0YXRlICE9PSBvbGRTdGF0ZSkge1xyXG4gICAgICAgICAgICAvLyBJZiBzbywgdGhlIHN0YXRlIGFjdGl2YXRlIHRyaWdnZXIgbXVzdCBiZSBjYWxsZWRcclxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCd0YWJzLWFjdGl2YXRlLXN0YXRlJywge29sZFN0YXRlOiBvbGRTdGF0ZSwgbmV3U3RhdGU6IHRoaXMuc3RhdGV9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzdGF0ZSBzd2l0Y2ggc2hvdWxkIG9wZW4gYSB0YWJcclxuICAgICAgICAgICAgaWYob2xkU3RhdGUgJiYgc3RhcnRDb2xsYXBzZWRJc1N0YXRlICYmIHRoaXMub3B0aW9ucy5zdGFydENvbGxhcHNlZCAhPT0gdGhpcy5zdGF0ZSAmJiB0aGlzLl9nZXRDdXJyZW50VGFiKCkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gR2V0IGluaXRpYWwgdGFiXHJcbiAgICAgICAgICAgICAgICBzdGFydFRhYiA9IHRoaXMuX2dldFN0YXJ0VGFiKGUpO1xyXG4gICAgICAgICAgICAgICAgLy8gT3BlbiB0aGUgaW5pdGlhbCB0YWJcclxuICAgICAgICAgICAgICAgIHRoaXMuX29wZW5UYWIoZSwgc3RhcnRUYWIpOyAvLyBPcGVuIGZpcnN0IHRhYlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gb3BlbnMgYSB0YWJcclxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGUgLSBUaGUgZXZlbnQgdGhhdCB0cmlnZ2VycyB0aGUgdGFiIG9wZW5pbmdcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvVGFiIC0gVGhlIHRhYiBvYmplY3QgdGhhdCBzaG91bGQgYmUgb3BlbmVkXHJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGNsb3NlQ3VycmVudCAtIERlZmluZXMgaWYgdGhlIGN1cnJlbnQgdGFiIHNob3VsZCBiZSBjbG9zZWRcclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gc3RvcFJvdGF0aW9uIC0gRGVmaW5lcyBpZiB0aGUgdGFiIHJvdGF0aW9uIGxvb3Agc2hvdWxkIGJlIHN0b3BwZWRcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLl9vcGVuVGFiID0gZnVuY3Rpb24oZSwgb1RhYiwgY2xvc2VDdXJyZW50LCBzdG9wUm90YXRpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzY3JvbGxPZmZzZXQ7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHRhYiBoYXMgdG8gYmUgY2xvc2VkXHJcbiAgICAgICAgaWYoY2xvc2VDdXJyZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlVGFiKGUsIHRoaXMuX2dldEN1cnJlbnRUYWIoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcm90YXRpb24gaGFzIHRvIGJlIHN0b3BwZWQgd2hlbiBhY3RpdmF0ZWRcclxuICAgICAgICBpZihzdG9wUm90YXRpb24gJiYgdGhpcy5yb3RhdGVJbnRlcnZhbCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zdG9wUm90YXRpb24oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNldCB0aGlzIHRhYiB0byBhY3RpdmVcclxuICAgICAgICBvVGFiLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgLy8gU2V0IGFjdGl2ZSBjbGFzc2VzIHRvIHRoZSB0YWIgYnV0dG9uIGFuZCBhY2NvcmRpb24gdGFiIGJ1dHRvblxyXG4gICAgICAgIG9UYWIudGFiLnJlbW92ZUNsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURlZmF1bHQpLmFkZENsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZUFjdGl2ZSk7XHJcbiAgICAgICAgb1RhYi5hY2NvcmRpb25UYWIucmVtb3ZlQ2xhc3MoX3RoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGVmYXVsdCkuYWRkQ2xhc3MoX3RoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlQWN0aXZlKTtcclxuXHJcbiAgICAgICAgLy8gUnVuIHBhbmVsIHRyYW5zaXRvblxyXG4gICAgICAgIF90aGlzLl9kb1RyYW5zaXRpb24ob1RhYi5wYW5lbCwgX3RoaXMub3B0aW9ucy5hbmltYXRpb24sICdvcGVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxPbkxvYWQgPSAoZS50eXBlICE9PSAndGFicy1sb2FkJyB8fCBfdGhpcy5vcHRpb25zLnNjcm9sbFRvQWNjb3JkaW9uT25Mb2FkKTtcclxuXHJcbiAgICAgICAgICAgIC8vIFdoZW4gZmluaXNoZWQsIHNldCBhY3RpdmUgY2xhc3MgdG8gdGhlIHBhbmVsXHJcbiAgICAgICAgICAgIG9UYWIucGFuZWwucmVtb3ZlQ2xhc3MoX3RoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGVmYXVsdCkuYWRkQ2xhc3MoX3RoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlQWN0aXZlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFuZCBpZiBlbmFibGVkIGFuZCBzdGF0ZSBpcyBhY2NvcmRpb24sIHNjcm9sbCB0byB0aGUgYWNjb3JkaW9uIHRhYlxyXG4gICAgICAgICAgICBpZihfdGhpcy5nZXRTdGF0ZSgpID09PSAnYWNjb3JkaW9uJyAmJiBfdGhpcy5vcHRpb25zLnNjcm9sbFRvQWNjb3JkaW9uICYmICghX3RoaXMuX2lzSW5WaWV3KG9UYWIuYWNjb3JkaW9uVGFiKSB8fCBfdGhpcy5vcHRpb25zLmFuaW1hdGlvbiAhPT0gJ2RlZmF1bHQnKSAmJiBzY3JvbGxPbkxvYWQpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBZGQgb2Zmc2V0IGVsZW1lbnQncyBoZWlnaHQgdG8gc2Nyb2xsIHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICBzY3JvbGxPZmZzZXQgPSBvVGFiLmFjY29yZGlvblRhYi5vZmZzZXQoKS50b3AgLSBfdGhpcy5vcHRpb25zLnNjcm9sbFRvQWNjb3JkaW9uT2Zmc2V0O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBhbmltYXRpb24gb3B0aW9uIGlzIGVuYWJsZWQsIGFuZCBpZiB0aGUgZHVyYXRpb24gaXNuJ3QgMFxyXG4gICAgICAgICAgICAgICAgaWYoX3RoaXMub3B0aW9ucy5hbmltYXRpb24gIT09ICdkZWZhdWx0JyAmJiBfdGhpcy5vcHRpb25zLmR1cmF0aW9uID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHNvLCBzZXQgc2Nyb2xsVG9wIHdpdGggYW5pbWF0ZSBhbmQgdXNlIHRoZSAnYW5pbWF0aW9uJyBkdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxPZmZzZXRcclxuICAgICAgICAgICAgICAgICAgICB9LCBfdGhpcy5vcHRpb25zLmR1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIElmIG5vdCwganVzdCBzZXQgc2Nyb2xsVG9wXHJcbiAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLnNjcm9sbFRvcChzY3JvbGxPZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigndGFicy1hY3RpdmF0ZScsIG9UYWIpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2xvc2VzIGEgdGFiXHJcbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBlIC0gVGhlIGV2ZW50IHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gYSB0YWIgaXMgY2xvc2VkXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb1RhYiAtIFRoZSB0YWIgb2JqZWN0IHRoYXQgc2hvdWxkIGJlIGNsb3NlZFxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2Nsb3NlVGFiID0gZnVuY3Rpb24oZSwgb1RhYikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGRvUXVldWVPblN0YXRlID0gdHlwZW9mIF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uUXVldWUgPT09ICdzdHJpbmcnO1xyXG4gICAgICAgIHZhciBkb1F1ZXVlO1xyXG5cclxuICAgICAgICBpZihvVGFiICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYoZG9RdWV1ZU9uU3RhdGUgJiYgX3RoaXMuZ2V0U3RhdGUoKSA9PT0gX3RoaXMub3B0aW9ucy5hbmltYXRpb25RdWV1ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9RdWV1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZihkb1F1ZXVlT25TdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgZG9RdWV1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZG9RdWV1ZSA9IF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uUXVldWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIERlYWN0aXZhdGUgdGFiXHJcbiAgICAgICAgICAgIG9UYWIuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IGNsYXNzIHRvIHRoZSB0YWIgYnV0dG9uXHJcbiAgICAgICAgICAgIG9UYWIudGFiLnJlbW92ZUNsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZUFjdGl2ZSkuYWRkQ2xhc3MoX3RoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGVmYXVsdCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSdW4gcGFuZWwgdHJhbnNpdGlvblxyXG4gICAgICAgICAgICBfdGhpcy5fZG9UcmFuc2l0aW9uKG9UYWIucGFuZWwsIF90aGlzLm9wdGlvbnMuYW5pbWF0aW9uLCAnY2xvc2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IGNsYXNzIHRvIHRoZSBhY2NvcmRpb24gdGFiIGJ1dHRvbiBhbmQgdGFiIHBhbmVsXHJcbiAgICAgICAgICAgICAgICBvVGFiLmFjY29yZGlvblRhYi5yZW1vdmVDbGFzcyhfdGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVBY3RpdmUpLmFkZENsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURlZmF1bHQpO1xyXG4gICAgICAgICAgICAgICAgb1RhYi5wYW5lbC5yZW1vdmVDbGFzcyhfdGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVBY3RpdmUpLmFkZENsYXNzKF90aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURlZmF1bHQpO1xyXG4gICAgICAgICAgICB9LCAhZG9RdWV1ZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoJ3RhYnMtZGVhY3RpdmF0ZScsIG9UYWIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJ1bnMgYW4gZWZmZWN0IG9uIGEgcGFuZWxcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gcGFuZWwgLSBUaGUgSFRNTCBlbGVtZW50IG9mIHRoZSB0YWIgcGFuZWxcclxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXRob2QgLSBUaGUgdHJhbnNpdGlvbiBtZXRob2QgcmVmZXJlbmNlXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RhdGUgLSBUaGUgc3RhdGUgKG9wZW4vY2xvc2VkKSB0aGF0IHRoZSBwYW5lbCBzaG91bGQgdHJhbnNpdGlvbiB0b1xyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCBpcyBjYWxsZWQgYWZ0ZXIgdGhlIHRyYW5zaXRpb25cclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gZGVxdWV1ZSAtIERlZmluZXMgaWYgdGhlIGV2ZW50IHF1ZXVlIHNob3VsZCBiZSBkZXF1ZXVlZCBhZnRlciB0aGUgdHJhbnNpdGlvblxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2RvVHJhbnNpdGlvbiA9IGZ1bmN0aW9uKHBhbmVsLCBtZXRob2QsIHN0YXRlLCBjYWxsYmFjaywgZGVxdWV1ZSkge1xyXG4gICAgICAgIHZhciBlZmZlY3Q7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8gR2V0IGVmZmVjdCBiYXNlZCBvbiBtZXRob2RcclxuICAgICAgICBzd2l0Y2gobWV0aG9kKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3NsaWRlJzpcclxuICAgICAgICAgICAgICAgIGVmZmVjdCA9IChzdGF0ZSA9PT0gJ29wZW4nKSA/ICdzbGlkZURvd24nIDogJ3NsaWRlVXAnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2ZhZGUnOlxyXG4gICAgICAgICAgICAgICAgZWZmZWN0ID0gKHN0YXRlID09PSAnb3BlbicpID8gJ2ZhZGVJbicgOiAnZmFkZU91dCc7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGVmZmVjdCA9IChzdGF0ZSA9PT0gJ29wZW4nKSA/ICdzaG93JyA6ICdoaWRlJztcclxuICAgICAgICAgICAgICAgIC8vIFdoZW4gZGVmYXVsdCBpcyB1c2VkLCBzZXQgdGhlIGR1cmF0aW9uIHRvIDBcclxuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMuZHVyYXRpb24gPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIHRyYW5zaXRpb24gdG8gYSBjdXN0b20gcXVldWVcclxuICAgICAgICB0aGlzLiRxdWV1ZS5xdWV1ZSgncmVzcG9uc2l2ZS10YWJzJyxmdW5jdGlvbihuZXh0KXtcclxuICAgICAgICAgICAgLy8gUnVuIHRoZSB0cmFuc2l0aW9uIG9uIHRoZSBwYW5lbFxyXG4gICAgICAgICAgICBwYW5lbFtlZmZlY3RdKHtcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBfdGhpcy5vcHRpb25zLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChwYW5lbCwgbWV0aG9kLCBzdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUnVuIHRoZSBuZXh0IGZ1bmN0aW9uIGluIHRoZSBxdWV1ZVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFdoZW4gdGhlIHBhbmVsIGlzIG9wZW5lbmQsIGRlcXVldWUgZXZlcnl0aGluZyBzbyB0aGUgYW5pbWF0aW9uIHN0YXJ0c1xyXG4gICAgICAgIGlmKHN0YXRlID09PSAnb3BlbicgfHwgZGVxdWV1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLiRxdWV1ZS5kZXF1ZXVlKCdyZXNwb25zaXZlLXRhYnMnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY29sbGFwc2liaWxpdHkgb2YgdGhlIHRhYiBpbiB0aGlzIHN0YXRlXHJcbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGhlIGNvbGxhcHNpYmlsaXR5IG9mIHRoZSB0YWJcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLl9pc0NvbGxhcGlzYmxlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuICh0eXBlb2YgdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlID09PSAnYm9vbGVhbicgJiYgdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlKSB8fCAodHlwZW9mIHRoaXMub3B0aW9ucy5jb2xsYXBzaWJsZSA9PT0gJ3N0cmluZycgJiYgdGhpcy5vcHRpb25zLmNvbGxhcHNpYmxlID09PSB0aGlzLmdldFN0YXRlKCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyBhIHRhYiBieSBudW1lcmljIHJlZmVyZW5jZVxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSBudW1SZWYgLSBOdW1lcmljIHRhYiByZWZlcmVuY2VcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFRhYiBvYmplY3RcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLl9nZXRUYWIgPSBmdW5jdGlvbihudW1SZWYpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy50YWJzW251bVJlZl07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBudW1lcmljIHRhYiByZWZlcmVuY2UgYmFzZWQgb24gYSBoYXNoIHNlbGVjdG9yXHJcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc2VsZWN0b3IgLSBIYXNoIHNlbGVjdG9yXHJcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn0gTnVtZXJpYyB0YWIgcmVmZXJlbmNlXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNpdmVUYWJzLnByb3RvdHlwZS5fZ2V0VGFiUmVmQnlTZWxlY3RvciA9IGZ1bmN0aW9uKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgLy8gTG9vcCBhbGwgdGFic1xyXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTx0aGlzLnRhYnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGhhc2ggc2VsZWN0b3IgaXMgZXF1YWwgdG8gdGhlIHRhYiBzZWxlY3RvclxyXG4gICAgICAgICAgICBpZih0aGlzLnRhYnNbaV0uc2VsZWN0b3IgPT09IHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBub25lIGlzIGZvdW5kIHJldHVybiBhIG5lZ2F0aXZlIGluZGV4XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VycmVudCB0YWIgZWxlbWVudFxyXG4gICAgICogQHJldHVybnMge09iamVjdH0gQ3VycmVudCB0YWIgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2dldEN1cnJlbnRUYWIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0VGFiKHRoaXMuX2dldEN1cnJlbnRUYWJSZWYoKSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBuZXh0IHRhYidzIG51bWVyaWMgcmVmZXJlbmNlXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IGN1cnJlbnRUYWJSZWYgLSBDdXJyZW50IG51bWVyaWMgdGFiIHJlZmVyZW5jZVxyXG4gICAgICogQHJldHVybnMge0ludGVnZXJ9IE51bWVyaWMgdGFiIHJlZmVyZW5jZVxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuX2dldE5leHRUYWJSZWYgPSBmdW5jdGlvbihjdXJyZW50VGFiUmVmKSB7XHJcbiAgICAgICAgdmFyIHRhYlJlZiA9IChjdXJyZW50VGFiUmVmIHx8IHRoaXMuX2dldEN1cnJlbnRUYWJSZWYoKSk7XHJcbiAgICAgICAgdmFyIG5leHRUYWJSZWYgPSAodGFiUmVmID09PSB0aGlzLnRhYnMubGVuZ3RoIC0gMSkgPyAwIDogdGFiUmVmICsgMTtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2dldFRhYihuZXh0VGFiUmVmKS5kaXNhYmxlZCkgPyB0aGlzLl9nZXROZXh0VGFiUmVmKG5leHRUYWJSZWYpIDogbmV4dFRhYlJlZjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHByZXZpb3VzIHRhYidzIG51bWVyaWMgcmVmZXJlbmNlXHJcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn0gTnVtZXJpYyB0YWIgcmVmZXJlbmNlXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNpdmVUYWJzLnByb3RvdHlwZS5fZ2V0UHJldmlvdXNUYWJSZWYgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2dldEN1cnJlbnRUYWJSZWYoKSA9PT0gMCkgPyB0aGlzLnRhYnMubGVuZ3RoIC0gMSA6IHRoaXMuX2dldEN1cnJlbnRUYWJSZWYoKSAtIDE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBjdXJyZW50IHRhYidzIG51bWVyaWMgcmVmZXJlbmNlXHJcbiAgICAgKiBAcmV0dXJucyB7SW50ZWdlcn0gTnVtZXJpYyB0YWIgcmVmZXJlbmNlXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNpdmVUYWJzLnByb3RvdHlwZS5fZ2V0Q3VycmVudFRhYlJlZiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIExvb3AgYWxsIHRhYnNcclxuICAgICAgICBmb3IgKHZhciBpPTA7IGk8dGhpcy50YWJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoaXMgdGFiIGlzIGFjdGl2ZSwgcmV0dXJuIGl0XHJcbiAgICAgICAgICAgIGlmKHRoaXMudGFic1tpXS5hY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vIHRhYnMgaGF2ZSBiZWVuIGZvdW5kLCByZXR1cm4gbmVnYXRpdmUgaW5kZXhcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIHRoZSB0YWxsZXN0IHRhYiBhbmQgYXBwbGllZCB0aGUgaGVpZ2h0IHRvIGFsbCB0YWJzXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNpdmVUYWJzLnByb3RvdHlwZS5fZXF1YWxpc2VIZWlnaHRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG1heEhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgICQuZWFjaCgkLm1hcCh0aGlzLnRhYnMsIGZ1bmN0aW9uKHRhYikge1xyXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBNYXRoLm1heChtYXhIZWlnaHQsIHRhYi5wYW5lbC5jc3MoJ21pbkhlaWdodCcsICcnKS5oZWlnaHQoKSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0YWIucGFuZWw7XHJcbiAgICAgICAgfSksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNzcygnbWluSGVpZ2h0JywgbWF4SGVpZ2h0KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLy9cclxuICAgIC8vIEhFTFBFUiBGVU5DVElPTlNcclxuICAgIC8vXHJcblxyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLl9pc0luVmlldyA9IGZ1bmN0aW9uKCRlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGRvY1ZpZXdUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXHJcbiAgICAgICAgICAgIGRvY1ZpZXdCb3R0b20gPSBkb2NWaWV3VG9wICsgJCh3aW5kb3cpLmhlaWdodCgpLFxyXG4gICAgICAgICAgICBlbGVtVG9wID0gJGVsZW1lbnQub2Zmc2V0KCkudG9wLFxyXG4gICAgICAgICAgICBlbGVtQm90dG9tID0gZWxlbVRvcCArICRlbGVtZW50LmhlaWdodCgpO1xyXG4gICAgICAgIHJldHVybiAoKGVsZW1Cb3R0b20gPD0gZG9jVmlld0JvdHRvbSkgJiYgKGVsZW1Ub3AgPj0gZG9jVmlld1RvcCkpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvL1xyXG4gICAgLy8gUFVCTElDIEZVTkNUSU9OU1xyXG4gICAgLy9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gYWN0aXZhdGVzIGEgdGFiXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHRhYlJlZiAtIE51bWVyaWMgdGFiIHJlZmVyZW5jZVxyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBzdG9wUm90YXRpb24gLSBEZWZpbmVzIGlmIHRoZSB0YWIgcm90YXRpb24gc2hvdWxkIHN0b3AgYWZ0ZXIgYWN0aXZhdGlvblxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbih0YWJSZWYsIHN0b3BSb3RhdGlvbikge1xyXG4gICAgICAgIHZhciBlID0galF1ZXJ5LkV2ZW50KCd0YWJzLWFjdGl2YXRlJyk7XHJcbiAgICAgICAgdmFyIG9UYWIgPSB0aGlzLl9nZXRUYWIodGFiUmVmKTtcclxuICAgICAgICBpZighb1RhYi5kaXNhYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9vcGVuVGFiKGUsIG9UYWIsIHRydWUsIHN0b3BSb3RhdGlvbiB8fCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBkZWFjdGl2YXRlcyBhIHRhYlxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSB0YWJSZWYgLSBOdW1lcmljIHRhYiByZWZlcmVuY2VcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLmRlYWN0aXZhdGUgPSBmdW5jdGlvbih0YWJSZWYpIHtcclxuICAgICAgICB2YXIgZSA9IGpRdWVyeS5FdmVudCgndGFicy1kZWN0aXZhdGUnKTtcclxuICAgICAgICB2YXIgb1RhYiA9IHRoaXMuX2dldFRhYih0YWJSZWYpO1xyXG4gICAgICAgIGlmKCFvVGFiLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nsb3NlVGFiKGUsIG9UYWIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGVuYWJsZXMgYSB0YWJcclxuICAgICAqIEBwYXJhbSB7SW50ZWdlcn0gdGFiUmVmIC0gTnVtZXJpYyB0YWIgcmVmZXJlbmNlXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNpdmVUYWJzLnByb3RvdHlwZS5lbmFibGUgPSBmdW5jdGlvbih0YWJSZWYpIHtcclxuICAgICAgICB2YXIgb1RhYiA9IHRoaXMuX2dldFRhYih0YWJSZWYpO1xyXG4gICAgICAgIGlmKG9UYWIpe1xyXG4gICAgICAgICAgICBvVGFiLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIG9UYWIudGFiLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGVmYXVsdCkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVEaXNhYmxlZCk7XHJcbiAgICAgICAgICAgIG9UYWIuYWNjb3JkaW9uVGFiLmFkZENsYXNzKHRoaXMub3B0aW9ucy5jbGFzc2VzLnN0YXRlRGVmYXVsdCkucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVEaXNhYmxlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gZGlzYWJsZSBhIHRhYlxyXG4gICAgICogQHBhcmFtIHtJbnRlZ2VyfSB0YWJSZWYgLSBOdW1lcmljIHRhYiByZWZlcmVuY2VcclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbih0YWJSZWYpIHtcclxuICAgICAgICB2YXIgb1RhYiA9IHRoaXMuX2dldFRhYih0YWJSZWYpO1xyXG4gICAgICAgIGlmKG9UYWIpe1xyXG4gICAgICAgICAgICBvVGFiLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgb1RhYi50YWIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVEZWZhdWx0KS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURpc2FibGVkKTtcclxuICAgICAgICAgICAgb1RhYi5hY2NvcmRpb25UYWIucmVtb3ZlQ2xhc3ModGhpcy5vcHRpb25zLmNsYXNzZXMuc3RhdGVEZWZhdWx0KS5hZGRDbGFzcyh0aGlzLm9wdGlvbnMuY2xhc3Nlcy5zdGF0ZURpc2FibGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBnZXRzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBwbHVnaW5cclxuICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IFN0YXRlIG9mIHRoZSBwbHVnaW5cclxuICAgICAqL1xyXG4gICAgUmVzcG9uc2l2ZVRhYnMucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBzdGFydHMgdGhlIHJvdGF0aW9uIG9mIHRoZSB0YWJzXHJcbiAgICAgKiBAcGFyYW0ge0ludGVnZXJ9IHNwZWVkIC0gVGhlIHNwZWVkIG9mIHRoZSByb3RhdGlvblxyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuc3RhcnRSb3RhdGlvbiA9IGZ1bmN0aW9uKHNwZWVkKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBNYWtlIHN1cmUgbm90IGFsbCB0YWJzIGFyZSBkaXNhYmxlZFxyXG4gICAgICAgIGlmKHRoaXMudGFicy5sZW5ndGggPiB0aGlzLm9wdGlvbnMuZGlzYWJsZWQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMucm90YXRlSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSBqUXVlcnkuRXZlbnQoJ3JvdGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuX29wZW5UYWIoZSwgX3RoaXMuX2dldFRhYihfdGhpcy5fZ2V0TmV4dFRhYlJlZigpKSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0sIHNwZWVkIHx8ICgoJC5pc051bWVyaWMoX3RoaXMub3B0aW9ucy5yb3RhdGUpKSA/IF90aGlzLm9wdGlvbnMucm90YXRlIDogNDAwMCkgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJSb3RhdGlvbiBpcyBub3QgcG9zc2libGUgaWYgYWxsIHRhYnMgYXJlIGRpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHN0b3BzIHRoZSByb3RhdGlvbiBvZiB0aGUgdGFic1xyXG4gICAgICovXHJcbiAgICBSZXNwb25zaXZlVGFicy5wcm90b3R5cGUuc3RvcFJvdGF0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5yb3RhdGVJbnRlcnZhbCk7XHJcbiAgICAgICAgdGhpcy5yb3RhdGVJbnRlcnZhbCA9IDA7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byBnZXQvc2V0IG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge2FueX0gT3B0aW9uIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIFJlc3BvbnNpdmVUYWJzLnByb3RvdHlwZS5vcHRpb24gPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgaWYodmFsdWUpIHtcclxuICAgICAgICAgICAgdGhpcy5vcHRpb25zW2tleV0gPSB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1trZXldO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKiogalF1ZXJ5IHdyYXBwZXIgKi9cclxuICAgICQuZm4ucmVzcG9uc2l2ZVRhYnMgPSBmdW5jdGlvbiAoIG9wdGlvbnMgKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlO1xyXG5cclxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICghJC5kYXRhKHRoaXMsICdyZXNwb25zaXZldGFicycpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdyZXNwb25zaXZldGFicycsIG5ldyBSZXNwb25zaXZlVGFicyggdGhpcywgb3B0aW9ucyApKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgJiYgb3B0aW9uc1swXSAhPT0gJ18nICYmIG9wdGlvbnMgIT09ICdpbml0Jykge1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9ICQuZGF0YSh0aGlzWzBdLCAncmVzcG9uc2l2ZXRhYnMnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEFsbG93IGluc3RhbmNlcyB0byBiZSBkZXN0cm95ZWQgdmlhIHRoZSAnZGVzdHJveScgbWV0aG9kXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zID09PSAnZGVzdHJveScpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE86IGRlc3Ryb3kgaW5zdGFuY2UgY2xhc3NlcywgZXRjXHJcbiAgICAgICAgICAgICAgICAkLmRhdGEodGhpcywgJ3Jlc3BvbnNpdmV0YWJzJywgbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChpbnN0YW5jZSBpbnN0YW5jZW9mIFJlc3BvbnNpdmVUYWJzICYmIHR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlW29wdGlvbnNdLmFwcGx5KCBpbnN0YW5jZSwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3MsIDEgKSApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxufShqUXVlcnksIHdpbmRvdykpO1xyXG5cbi8qIVxyXG4gKiBXYXZlcyB2MC42LjRcclxuICogaHR0cDovL2ZpYW4ubXkuaWQvV2F2ZXNcclxuICpcclxuICogQ29weXJpZ2h0IDIwMTQgQWxmaWFuYSBFLiBTaWJ1ZWEgYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2ZpYW5zL1dhdmVzL2Jsb2IvbWFzdGVyL0xJQ0VOU0VcclxuICovXHJcblxyXG47KGZ1bmN0aW9uKHdpbmRvdykge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBXYXZlcyA9IFdhdmVzIHx8IHt9O1xyXG4gICAgdmFyICQkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbC5iaW5kKGRvY3VtZW50KTtcclxuXHJcbiAgICAvLyBGaW5kIGV4YWN0IHBvc2l0aW9uIG9mIGVsZW1lbnRcclxuICAgIGZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xyXG4gICAgICAgIHJldHVybiBvYmogIT09IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFdpbmRvdyhlbGVtKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzV2luZG93KGVsZW0pID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0VmlldztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvZmZzZXQoZWxlbSkge1xyXG4gICAgICAgIHZhciBkb2NFbGVtLCB3aW4sXHJcbiAgICAgICAgICAgIGJveCA9IHt0b3A6IDAsIGxlZnQ6IDB9LFxyXG4gICAgICAgICAgICBkb2MgPSBlbGVtICYmIGVsZW0ub3duZXJEb2N1bWVudDtcclxuXHJcbiAgICAgICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QgIT09IHR5cGVvZiB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgYm94ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2luID0gZ2V0V2luZG93KGRvYyk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdG9wOiBib3gudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXHJcbiAgICAgICAgICAgIGxlZnQ6IGJveC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb252ZXJ0U3R5bGUob2JqKSB7XHJcbiAgICAgICAgdmFyIHN0eWxlID0gJyc7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGEgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoYSkpIHtcclxuICAgICAgICAgICAgICAgIHN0eWxlICs9IChhICsgJzonICsgb2JqW2FdICsgJzsnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0eWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBFZmZlY3QgPSB7XHJcblxyXG4gICAgICAgIC8vIEVmZmVjdCBkZWxheVxyXG4gICAgICAgIGR1cmF0aW9uOiA3NTAsXHJcblxyXG4gICAgICAgIHNob3c6IGZ1bmN0aW9uKGUsIGVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIERpc2FibGUgcmlnaHQgY2xpY2tcclxuICAgICAgICAgICAgaWYgKGUuYnV0dG9uID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBlbCA9IGVsZW1lbnQgfHwgdGhpcztcclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSByaXBwbGVcclxuICAgICAgICAgICAgdmFyIHJpcHBsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICByaXBwbGUuY2xhc3NOYW1lID0gJ3dhdmVzLXJpcHBsZSc7XHJcbiAgICAgICAgICAgIGVsLmFwcGVuZENoaWxkKHJpcHBsZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgY2xpY2sgY29vcmRpbmF0ZSBhbmQgZWxlbWVudCB3aXRkaFxyXG4gICAgICAgICAgICB2YXIgcG9zICAgICAgICAgPSBvZmZzZXQoZWwpO1xyXG4gICAgICAgICAgICB2YXIgcmVsYXRpdmVZICAgPSAoZS5wYWdlWSAtIHBvcy50b3ApO1xyXG4gICAgICAgICAgICB2YXIgcmVsYXRpdmVYICAgPSAoZS5wYWdlWCAtIHBvcy5sZWZ0KTtcclxuICAgICAgICAgICAgdmFyIHNjYWxlICAgICAgID0gJ3NjYWxlKCcrKChlbC5jbGllbnRXaWR0aCAvIDEwMCkgKiAxMCkrJyknO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydCBmb3IgdG91Y2ggZGV2aWNlc1xyXG4gICAgICAgICAgICBpZiAoJ3RvdWNoZXMnIGluIGUpIHtcclxuICAgICAgICAgICAgICByZWxhdGl2ZVkgICA9IChlLnRvdWNoZXNbMF0ucGFnZVkgLSBwb3MudG9wKTtcclxuICAgICAgICAgICAgICByZWxhdGl2ZVggICA9IChlLnRvdWNoZXNbMF0ucGFnZVggLSBwb3MubGVmdCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEF0dGFjaCBkYXRhIHRvIGVsZW1lbnRcclxuICAgICAgICAgICAgcmlwcGxlLnNldEF0dHJpYnV0ZSgnZGF0YS1ob2xkJywgRGF0ZS5ub3coKSk7XHJcbiAgICAgICAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2NhbGUnLCBzY2FsZSk7XHJcbiAgICAgICAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEteCcsIHJlbGF0aXZlWCk7XHJcbiAgICAgICAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEteScsIHJlbGF0aXZlWSk7XHJcblxyXG4gICAgICAgICAgICAvLyBTZXQgcmlwcGxlIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIHZhciByaXBwbGVTdHlsZSA9IHtcclxuICAgICAgICAgICAgICAgICd0b3AnOiByZWxhdGl2ZVkrJ3B4JyxcclxuICAgICAgICAgICAgICAgICdsZWZ0JzogcmVsYXRpdmVYKydweCdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHJpcHBsZS5jbGFzc05hbWUgPSByaXBwbGUuY2xhc3NOYW1lICsgJyB3YXZlcy1ub3RyYW5zaXRpb24nO1xyXG4gICAgICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbnZlcnRTdHlsZShyaXBwbGVTdHlsZSkpO1xyXG4gICAgICAgICAgICByaXBwbGUuY2xhc3NOYW1lID0gcmlwcGxlLmNsYXNzTmFtZS5yZXBsYWNlKCd3YXZlcy1ub3RyYW5zaXRpb24nLCAnJyk7XHJcblxyXG4gICAgICAgICAgICAvLyBTY2FsZSB0aGUgcmlwcGxlXHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctd2Via2l0LXRyYW5zZm9ybSddID0gc2NhbGU7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctbW96LXRyYW5zZm9ybSddID0gc2NhbGU7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlWyctbXMtdHJhbnNmb3JtJ10gPSBzY2FsZTtcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy1vLXRyYW5zZm9ybSddID0gc2NhbGU7XHJcbiAgICAgICAgICAgIHJpcHBsZVN0eWxlLnRyYW5zZm9ybSA9IHNjYWxlO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZS5vcGFjaXR5ICAgPSAnMSc7XHJcblxyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsnLXdlYmtpdC10cmFuc2l0aW9uLWR1cmF0aW9uJ10gPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsnLW1vei10cmFuc2l0aW9uLWR1cmF0aW9uJ10gICAgPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsnLW8tdHJhbnNpdGlvbi1kdXJhdGlvbiddICAgICAgPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xyXG4gICAgICAgICAgICByaXBwbGVTdHlsZVsndHJhbnNpdGlvbi1kdXJhdGlvbiddICAgICAgICAgPSBFZmZlY3QuZHVyYXRpb24gKyAnbXMnO1xyXG5cclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy13ZWJraXQtdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nXSA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy1tb3otdHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24nXSAgICA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJy1vLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gICAgICA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcclxuICAgICAgICAgICAgcmlwcGxlU3R5bGVbJ3RyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJ10gICAgICAgICA9ICdjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApJztcclxuXHJcbiAgICAgICAgICAgIHJpcHBsZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgY29udmVydFN0eWxlKHJpcHBsZVN0eWxlKSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgaGlkZTogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBUb3VjaEhhbmRsZXIudG91Y2h1cChlKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBlbCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHZhciB3aWR0aCA9IGVsLmNsaWVudFdpZHRoICogMS40O1xyXG5cclxuICAgICAgICAgICAgLy8gR2V0IGZpcnN0IHJpcHBsZVxyXG4gICAgICAgICAgICB2YXIgcmlwcGxlID0gbnVsbDtcclxuICAgICAgICAgICAgdmFyIHJpcHBsZXMgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3YXZlcy1yaXBwbGUnKTtcclxuICAgICAgICAgICAgaWYgKHJpcHBsZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmlwcGxlID0gcmlwcGxlc1tyaXBwbGVzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVsYXRpdmVYICAgPSByaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLXgnKTtcclxuICAgICAgICAgICAgdmFyIHJlbGF0aXZlWSAgID0gcmlwcGxlLmdldEF0dHJpYnV0ZSgnZGF0YS15Jyk7XHJcbiAgICAgICAgICAgIHZhciBzY2FsZSAgICAgICA9IHJpcHBsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2NhbGUnKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdldCBkZWxheSBiZWV0d2VlbiBtb3VzZWRvd24gYW5kIG1vdXNlIGxlYXZlXHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gRGF0ZS5ub3coKSAtIE51bWJlcihyaXBwbGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhvbGQnKSk7XHJcbiAgICAgICAgICAgIHZhciBkZWxheSA9IDM1MCAtIGRpZmY7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGVsYXkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxheSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZhZGUgb3V0IHJpcHBsZSBhZnRlciBkZWxheVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICd0b3AnOiByZWxhdGl2ZVkrJ3B4JyxcclxuICAgICAgICAgICAgICAgICAgICAnbGVmdCc6IHJlbGF0aXZlWCsncHgnLFxyXG4gICAgICAgICAgICAgICAgICAgICdvcGFjaXR5JzogJzAnLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBEdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zaXRpb24tZHVyYXRpb24nOiBFZmZlY3QuZHVyYXRpb24gKyAnbXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICctbW96LXRyYW5zaXRpb24tZHVyYXRpb24nOiBFZmZlY3QuZHVyYXRpb24gKyAnbXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICctby10cmFuc2l0aW9uLWR1cmF0aW9uJzogRWZmZWN0LmR1cmF0aW9uICsgJ21zJyxcclxuICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbi1kdXJhdGlvbic6IEVmZmVjdC5kdXJhdGlvbiArICdtcycsXHJcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJy1tb3otdHJhbnNmb3JtJzogc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJy1tcy10cmFuc2Zvcm0nOiBzY2FsZSxcclxuICAgICAgICAgICAgICAgICAgICAnLW8tdHJhbnNmb3JtJzogc2NhbGUsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IHNjYWxlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICByaXBwbGUuc2V0QXR0cmlidXRlKCdzdHlsZScsIGNvbnZlcnRTdHlsZShzdHlsZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWwucmVtb3ZlQ2hpbGQocmlwcGxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIEVmZmVjdC5kdXJhdGlvbik7XHJcbiAgICAgICAgICAgIH0sIGRlbGF5KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvLyBMaXR0bGUgaGFjayB0byBtYWtlIDxpbnB1dD4gY2FuIHBlcmZvcm0gd2F2ZXMgZWZmZWN0XHJcbiAgICAgICAgd3JhcElucHV0OiBmdW5jdGlvbihlbGVtZW50cykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IGVsZW1lbnRzLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBlbGVtZW50c1thXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZWwudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSAnaW5wdXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmVudCA9IGVsLnBhcmVudE5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGlucHV0IGFscmVhZHkgaGF2ZSBwYXJlbnQganVzdCBwYXNzIHRocm91Z2hcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2knICYmIHBhcmVudC5jbGFzc05hbWUuaW5kZXhPZignd2F2ZXMtZWZmZWN0JykgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHV0IGVsZW1lbnQgY2xhc3MgYW5kIHN0eWxlIHRvIHRoZSBzcGVjaWZpZWQgcGFyZW50XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUgKyAnIHdhdmVzLWlucHV0LXdyYXBwZXInO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudFN0eWxlID0gZWwuZ2V0QXR0cmlidXRlKCdzdHlsZScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRTdHlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50U3R5bGUgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHdyYXBwZXIuc2V0QXR0cmlidXRlKCdzdHlsZScsIGVsZW1lbnRTdHlsZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTmFtZSA9ICd3YXZlcy1idXR0b24taW5wdXQnO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUHV0IGVsZW1lbnQgYXMgY2hpbGRcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKHdyYXBwZXIsIGVsKTtcclxuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGVsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGlzYWJsZSBtb3VzZWRvd24gZXZlbnQgZm9yIDUwMG1zIGR1cmluZyBhbmQgYWZ0ZXIgdG91Y2hcclxuICAgICAqL1xyXG4gICAgdmFyIFRvdWNoSGFuZGxlciA9IHtcclxuICAgICAgICAvKiB1c2VzIGFuIGludGVnZXIgcmF0aGVyIHRoYW4gYm9vbCBzbyB0aGVyZSdzIG5vIGlzc3VlcyB3aXRoXHJcbiAgICAgICAgICogbmVlZGluZyB0byBjbGVhciB0aW1lb3V0cyBpZiBhbm90aGVyIHRvdWNoIGV2ZW50IG9jY3VycmVkXHJcbiAgICAgICAgICogd2l0aGluIHRoZSA1MDBtcy4gQ2Fubm90IG1vdXNldXAgYmV0d2VlbiB0b3VjaHN0YXJ0IGFuZFxyXG4gICAgICAgICAqIHRvdWNoZW5kLCBub3IgaW4gdGhlIDUwMG1zIGFmdGVyIHRvdWNoZW5kLiAqL1xyXG4gICAgICAgIHRvdWNoZXM6IDAsXHJcbiAgICAgICAgYWxsb3dFdmVudDogZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICB2YXIgYWxsb3cgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgaWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XHJcbiAgICAgICAgICAgICAgICBUb3VjaEhhbmRsZXIudG91Y2hlcyArPSAxOyAvL3B1c2hcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChlLnR5cGUgPT09ICd0b3VjaGVuZCcgfHwgZS50eXBlID09PSAndG91Y2hjYW5jZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChUb3VjaEhhbmRsZXIudG91Y2hlcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVG91Y2hIYW5kbGVyLnRvdWNoZXMgLT0gMTsgLy9wb3AgYWZ0ZXIgNTAwbXNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGUudHlwZSA9PT0gJ21vdXNlZG93bicgJiYgVG91Y2hIYW5kbGVyLnRvdWNoZXMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gYWxsb3c7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0b3VjaHVwOiBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIFRvdWNoSGFuZGxlci5hbGxvd0V2ZW50KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRGVsZWdhdGVkIGNsaWNrIGhhbmRsZXIgZm9yIC53YXZlcy1lZmZlY3QgZWxlbWVudC5cclxuICAgICAqIHJldHVybnMgbnVsbCB3aGVuIC53YXZlcy1lZmZlY3QgZWxlbWVudCBub3QgaW4gXCJjbGljayB0cmVlXCJcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ2V0V2F2ZXNFZmZlY3RFbGVtZW50KGUpIHtcclxuICAgICAgICBpZiAoVG91Y2hIYW5kbGVyLmFsbG93RXZlbnQoZSkgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQ7XHJcblxyXG4gICAgICAgIHdoaWxlICh0YXJnZXQucGFyZW50Tm9kZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50KSAmJiB0YXJnZXQuY2xhc3NOYW1lLmluZGV4T2YoJ3dhdmVzLWVmZmVjdCcpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IHRhcmdldDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEJ1YmJsZSB0aGUgY2xpY2sgYW5kIHNob3cgZWZmZWN0IGlmIC53YXZlcy1lZmZlY3QgZWxlbSB3YXMgZm91bmRcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gc2hvd0VmZmVjdChlKSB7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBnZXRXYXZlc0VmZmVjdEVsZW1lbnQoZSk7XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIEVmZmVjdC5zaG93KGUsIGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIEVmZmVjdC5oaWRlLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcclxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW5kJywgRWZmZWN0LmhpZGUsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgV2F2ZXMuZGlzcGxheUVmZmVjdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICAgICAgaWYgKCdkdXJhdGlvbicgaW4gb3B0aW9ucykge1xyXG4gICAgICAgICAgICBFZmZlY3QuZHVyYXRpb24gPSBvcHRpb25zLmR1cmF0aW9uO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9XcmFwIGlucHV0IGluc2lkZSA8aT4gdGFnXHJcbiAgICAgICAgRWZmZWN0LndyYXBJbnB1dCgkJCgnLndhdmVzLWVmZmVjdCcpKTtcclxuXHJcbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzaG93RWZmZWN0LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNob3dFZmZlY3QsIGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRhY2ggV2F2ZXMgdG8gYW4gaW5wdXQgZWxlbWVudCAob3IgYW55IGVsZW1lbnQgd2hpY2ggZG9lc24ndFxyXG4gICAgICogYnViYmxlIG1vdXNldXAvbW91c2Vkb3duIGV2ZW50cykuXHJcbiAgICAgKiAgIEludGVuZGVkIHRvIGJlIHVzZWQgd2l0aCBkeW5hbWljYWxseSBsb2FkZWQgZm9ybXMvaW5wdXRzLCBvclxyXG4gICAgICogd2hlcmUgdGhlIHVzZXIgZG9lc24ndCB3YW50IGEgZGVsZWdhdGVkIGNsaWNrIGhhbmRsZXIuXHJcbiAgICAgKi9cclxuICAgIFdhdmVzLmF0dGFjaCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAvL0ZVVFVSRTogYXV0b21hdGljYWxseSBhZGQgd2F2ZXMgY2xhc3NlcyBhbmQgYWxsb3cgdXNlcnNcclxuICAgICAgICAvLyB0byBzcGVjaWZ5IHRoZW0gd2l0aCBhbiBvcHRpb25zIHBhcmFtPyBFZy4gbGlnaHQvY2xhc3NpYy9idXR0b25cclxuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbnB1dCcpIHtcclxuICAgICAgICAgICAgRWZmZWN0LndyYXBJbnB1dChbZWxlbWVudF0pO1xyXG4gICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdykge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzaG93RWZmZWN0LCBmYWxzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNob3dFZmZlY3QsIGZhbHNlKTtcclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LldhdmVzID0gV2F2ZXM7XHJcblxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIFdhdmVzLmRpc3BsYXlFZmZlY3QoKTtcclxuICAgIH0sIGZhbHNlKTtcclxuXHJcbn0pKHdpbmRvdyk7XHJcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XG5cbiAgICAvLyDQmNC90LjRhtC40LDQu9C40LfQsNGG0LjRjyDQvNC10L3RjlxuICAgICAgICB2YXIgbWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1tZW51XCIpLFxuICAgICAgICAgICAgaGVhZGVyVG9wQmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5oZWFkZXJfX3RvcC1iYXJcIik7XG5cbiAgICAvLyDQmtC90L7Qv9C60LAg0LzQvtCx0LjQu9GM0L3QvtCz0L4g0LzQtdC90Y5cbiAgICAgICAgdmFyIGZvckVhY2ggPSBmdW5jdGlvbiAodCwgbywgcikge1xuICAgICAgICAgICAgaWYgKFwiW29iamVjdCBPYmplY3RdXCIgPT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0KSlmb3IgKHZhciBjIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsIGMpICYmIG8uY2FsbChyLCB0W2NdLCBjLCB0KTsgZWxzZSBmb3IgKHZhciBlID0gMCwgbCA9IHQubGVuZ3RoOyBsID4gZTsgZSsrKW8uY2FsbChyLCB0W2VdLCBlLCB0KVxuICAgICAgICB9O1xuICAgICAgICB2YXIgaGFtYnVyZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaGFtYnVyZ2VyXCIpO1xuICAgICAgICBpZiAoaGFtYnVyZ2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3JFYWNoKGhhbWJ1cmdlcnMsIGZ1bmN0aW9uIChoYW1idXJnZXIpIHtcbiAgICAgICAgICAgICAgICBoYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKFwiaXMtYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICBtZW51LmNsYXNzTGlzdC50b2dnbGUoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlclRvcEJhci5jbGFzc0xpc3QudG9nZ2xlKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAvLyDQndCw0LLQuNCz0LDRhtC40Y8g0L/QviDRgNCw0YHQv9C40YHQsNC90LjRjiDQt9Cw0L3Rj9GC0LjQuVxuICAgICAgICB2YXIgJHRhYnMgPSAkKCcudGltZXRhYmxlJyk7XG4gICAgICAgICR0YWJzLnJlc3BvbnNpdmVUYWJzKHtcbiAgICAgICAgICAgIGNvbGxhcHNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgc3RhcnRDb2xsYXBzZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYWN0aXZlOiAwXG4gICAgICAgIH0pO1xuXG4gICAgLy9cdNCY0L3QuNGG0LjQsNC70LjQt9Cw0YbQuNGPINGB0YfQtdGC0YfQuNC60LBcbiAgICAkKCcuZXZlbnRfX2NvdW50ZXInKS5jb3VudGRvd24oJCgnLmV2ZW50X19jb3VudGVyJykuYXR0cignZGF0YS1zdGFydC1kYXRlJyksIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGZ1bmN0aW9uIGRlY2xpbmF0aW9uKHRpdGxlcywgbnVtYmVyKSB7XG4gICAgICAgICAgICB2YXIgY2FzZXMgPSBbMiwgMCwgMSwgMSwgMSwgMl07XG4gICAgICAgICAgICByZXR1cm4gdGl0bGVzWyAobnVtYmVyJTEwMD40ICYmIG51bWJlciUxMDA8MjApPyAyIDogY2FzZXNbKG51bWJlciUxMDw1KT9udW1iZXIlMTA6NV0gXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2Vla3MgPSBldmVudC5vZmZzZXQud2Vla3MsXG4gICAgICAgICAgICBkYXlzID0gZXZlbnQub2Zmc2V0LmRheXMsXG4gICAgICAgICAgICBob3VycyA9IGV2ZW50Lm9mZnNldC5ob3VycyxcbiAgICAgICAgICAgIG1pbnV0ZXMgPSBldmVudC5vZmZzZXQubWludXRlcztcbiAgICAgICAgdmFyIHd3ID0gZGVjbGluYXRpb24oWyfQndC10LTQtdC70Y8nLCfQndC10LTQtdC70LgnLCfQndC10LTQtdC70YwnXSwgd2Vla3MpLFxuICAgICAgICAgICAgZGQgPSBkZWNsaW5hdGlvbihbJ9CU0LXQvdGMJywn0JTQvdGPJywn0JTQvdC10LknXSwgZGF5cyksXG4gICAgICAgICAgICBoaCA9IGRlY2xpbmF0aW9uKFsn0KfQsNGBJywn0KfQsNGB0LAnLCfQp9Cw0YHQvtCyJ10sIGhvdXJzKSxcbiAgICAgICAgICAgIG1tID0gZGVjbGluYXRpb24oWyfQnNC40L3Rg9GC0LAnLCfQnNC40L3Rg9GC0YsnLCfQnNC40L3Rg9GCJ10sIG1pbnV0ZXMpO1xuICAgICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpLmh0bWwoZXZlbnQuc3RyZnRpbWUoJydcbiAgICAgICAgICAgICsgJzxzcGFuPicgKyB3ZWVrcyArIHd3ICsgJzwvc3Bhbj4gJ1xuICAgICAgICAgICAgKyAnPHNwYW4+JyArIGRheXMgKyBkZCArJzwvc3Bhbj4gJ1xuICAgICAgICAgICAgKyAnPHNwYW4+JyArIGhvdXJzICsgaGggKyc8L3NwYW4+ICdcbiAgICAgICAgICAgICsgJzxzcGFuPicgKyBtaW51dGVzICsgbW0gKyc8L3NwYW4+ICdcbiAgICAgICAgKSk7XG4gICAgfSk7XG5cbn0pO1xuXG5cbiJdfQ==
