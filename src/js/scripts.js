!function(e,t,n){function i(e,t){return typeof e===t}function r(){var e,t,n,r,a,s,o;for(var u in _)if(_.hasOwnProperty(u)){if(e=[],t=_[u],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)s=e[a],o=s.split("."),1===o.length?C[o[0]]=r:(!C[o[0]]||C[o[0]]instanceof Boolean||(C[o[0]]=new Boolean(C[o[0]])),C[o[0]][o[1]]=r),y.push((r?"":"no-")+o.join("-"))}}function a(e){var t=w.className,n=C._config.classPrefix||"";if(E&&(t=t.baseVal),C._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}C._config.enableClasses&&(t+=" "+n+e.join(" "+n),E?w.className.baseVal=t:w.className=t)}function s(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function o(e,t){return!!~(""+e).indexOf(t)}function u(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):E?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function c(e,t){return function(){return e.apply(t,arguments)}}function l(e,t,n){var r;for(var a in e)if(e[a]in t)return!1===n?e[a]:(r=t[e[a]],i(r,"function")?c(r,n||t):r);return!1}function m(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function d(){var e=t.body;return e||(e=u(E?"svg":"body"),e.fake=!0),e}function f(e,n,i,r){var a,s,o,c,l="modernizr",m=u("div"),f=d();if(parseInt(i,10))for(;i--;)o=u("div"),o.id=r?r[i]:l+(i+1),m.appendChild(o);return a=u("style"),a.type="text/css",a.id="s"+l,(f.fake?f:m).appendChild(a),f.appendChild(m),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(t.createTextNode(e)),m.id=l,f.fake&&(f.style.background="",f.style.overflow="hidden",c=w.style.overflow,w.style.overflow="hidden",w.appendChild(f)),s=n(m,e),f.fake?(f.parentNode.removeChild(f),w.style.overflow=c,w.offsetHeight):m.parentNode.removeChild(m),!!s}function p(t,i){var r=t.length;if("CSS"in e&&"supports"in e.CSS){for(;r--;)if(e.CSS.supports(m(t[r]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var a=[];r--;)a.push("("+m(t[r])+":"+i+")");return a=a.join(" or "),f("@supports ("+a+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return n}function h(e,t,r,a){function c(){m&&(delete S.style,delete S.modElem)}if(a=!i(a,"undefined")&&a,!i(r,"undefined")){var l=p(e,r);if(!i(l,"undefined"))return l}for(var m,d,f,h,v,b=["modernizr","tspan"];!S.style;)m=!0,S.modElem=u(b.shift()),S.style=S.modElem.style;for(f=e.length,d=0;f>d;d++)if(h=e[d],v=S.style[h],o(h,"-")&&(h=s(h)),S.style[h]!==n){if(a||i(r,"undefined"))return c(),"pfx"!=t||h;try{S.style[h]=r}catch(e){}if(S.style[h]!=v)return c(),"pfx"!=t||h}return c(),!1}function v(e,t,n,r,a){var s=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+k.join(s+" ")+s).split(" ");return i(t,"string")||i(t,"undefined")?h(o,t,r,a):(o=(e+" "+x.join(s+" ")+s).split(" "),l(o,t,n))}function b(e,t,i){return v(e,n,n,t,i)}var y=[],_=[],g={_version:"3.2.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){_.push({name:e,fn:t,options:n})},addAsyncTest:function(e){_.push({name:null,fn:e})}},C=function(){};C.prototype=g,C=new C;var w=t.documentElement,E="svg"===w.nodeName.toLowerCase(),A="Moz O ms Webkit",k=g._config.usePrefixes?A.split(" "):[];g._cssomPrefixes=k;var L=function(t){var i,r=prefixes.length,a=e.CSSRule;if(void 0===a)return n;if(!t)return!1;if(t=t.replace(/^@/,""),(i=t.replace(/-/g,"_").toUpperCase()+"_RULE")in a)return"@"+t;for(var s=0;r>s;s++){var o=prefixes[s];if(o.toUpperCase()+"_"+i in a)return"@-"+o.toLowerCase()+"-"+t}return!1};g.atRule=L;var x=g._config.usePrefixes?A.toLowerCase().split(" "):[];g._domPrefixes=x;var N={elem:u("modernizr")};C._q.push(function(){delete N.elem});var S={style:N.elem.style};C._q.unshift(function(){delete S.style}),g.testAllProps=v,g.prefixed=function(e,t,n){return 0===e.indexOf("@")?L(e):(-1!=e.indexOf("-")&&(e=s(e)),t?v(e,t,n):v(e,"pfx"))},g.testAllProps=b,C.addTest("cssanimations",b("animationName","a",!0)),r(),a(y),delete g.addTest,delete g.addAsyncTest;for(var I=0;I<C._q.length;I++)C._q[I]();e.Modernizr=C}(window,document),function(e){"use strict";function t(e){return null!==e&&e===e.window}function n(e){return t(e)?e:9===e.nodeType&&e.defaultView}function i(e){var t,i,r={top:0,left:0},a=e&&e.ownerDocument;return t=a.documentElement,void 0!==e.getBoundingClientRect&&(r=e.getBoundingClientRect()),i=n(a),{top:r.top+i.pageYOffset-t.clientTop,left:r.left+i.pageXOffset-t.clientLeft}}function r(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+":"+e[n]+";");return t}function a(e){if(!1===l.allowEvent(e))return null;for(var t=null,n=e.target||e.srcElement;null!==n.parentNode;){if(!(n instanceof SVGElement)&&-1!==n.className.indexOf("waves-effect")){t=n;break}n=n.parentNode}return t}function s(t){var n=a(t);null!==n&&(c.show(t,n),"ontouchstart"in e&&(n.addEventListener("touchend",c.hide,!1),n.addEventListener("touchcancel",c.hide,!1)),n.addEventListener("mouseup",c.hide,!1),n.addEventListener("mouseleave",c.hide,!1),n.addEventListener("dragend",c.hide,!1))}var o=o||{},u=document.querySelectorAll.bind(document),c={duration:750,show:function(e,t){if(2===e.button)return!1;var n=t||this,a=document.createElement("div");a.className="waves-ripple",n.appendChild(a);var s=i(n),o=e.pageY-s.top,u=e.pageX-s.left,l="scale("+n.clientWidth/100*10+")";"touches"in e&&(o=e.touches[0].pageY-s.top,u=e.touches[0].pageX-s.left),a.setAttribute("data-hold",Date.now()),a.setAttribute("data-scale",l),a.setAttribute("data-x",u),a.setAttribute("data-y",o);var m={top:o+"px",left:u+"px"};a.className=a.className+" waves-notransition",a.setAttribute("style",r(m)),a.className=a.className.replace("waves-notransition",""),m["-webkit-transform"]=l,m["-moz-transform"]=l,m["-ms-transform"]=l,m["-o-transform"]=l,m.transform=l,m.opacity="1",m["-webkit-transition-duration"]=c.duration+"ms",m["-moz-transition-duration"]=c.duration+"ms",m["-o-transition-duration"]=c.duration+"ms",m["transition-duration"]=c.duration+"ms",m["-webkit-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-moz-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["-o-transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",m["transition-timing-function"]="cubic-bezier(0.250, 0.460, 0.450, 0.940)",a.setAttribute("style",r(m))},hide:function(e){l.touchup(e);var t=this,n=(t.clientWidth,null),i=t.getElementsByClassName("waves-ripple");if(!(i.length>0))return!1;n=i[i.length-1];var a=n.getAttribute("data-x"),s=n.getAttribute("data-y"),o=n.getAttribute("data-scale"),u=Date.now()-Number(n.getAttribute("data-hold")),m=350-u;m<0&&(m=0),setTimeout(function(){var e={top:s+"px",left:a+"px",opacity:"0","-webkit-transition-duration":c.duration+"ms","-moz-transition-duration":c.duration+"ms","-o-transition-duration":c.duration+"ms","transition-duration":c.duration+"ms","-webkit-transform":o,"-moz-transform":o,"-ms-transform":o,"-o-transform":o,transform:o};n.setAttribute("style",r(e)),setTimeout(function(){try{t.removeChild(n)}catch(e){return!1}},c.duration)},m)},wrapInput:function(e){for(var t=0;t<e.length;t++){var n=e[t];if("input"===n.tagName.toLowerCase()){var i=n.parentNode;if("i"===i.tagName.toLowerCase()&&-1!==i.className.indexOf("waves-effect"))continue;var r=document.createElement("i");r.className=n.className+" waves-input-wrapper";var a=n.getAttribute("style");a||(a=""),r.setAttribute("style",a),n.className="waves-button-input",n.removeAttribute("style"),i.replaceChild(r,n),r.appendChild(n)}}}},l={touches:0,allowEvent:function(e){var t=!0;return"touchstart"===e.type?l.touches+=1:"touchend"===e.type||"touchcancel"===e.type?setTimeout(function(){l.touches>0&&(l.touches-=1)},500):"mousedown"===e.type&&l.touches>0&&(t=!1),t},touchup:function(e){l.allowEvent(e)}};o.displayEffect=function(t){t=t||{},"duration"in t&&(c.duration=t.duration),c.wrapInput(u(".waves-effect")),"ontouchstart"in e&&document.body.addEventListener("touchstart",s,!1),document.body.addEventListener("mousedown",s,!1)},o.attach=function(t){"input"===t.tagName.toLowerCase()&&(c.wrapInput([t]),t=t.parentNode),"ontouchstart"in e&&t.addEventListener("touchstart",s,!1),t.addEventListener("mousedown",s,!1)},e.Waves=o,document.addEventListener("DOMContentLoaded",function(){o.displayEffect()},!1)}(window),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function n(e,t){(i(e,t)?a:r)(e,t)}var i,r,a;"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},r=function(e,t){e.classList.add(t)},a=function(e,t){e.classList.remove(t)}):(i=function(e,n){return t(n).test(e.className)},r=function(e,t){i(e,t)||(e.className=e.className+" "+t)},a=function(e,n){e.className=e.className.replace(t(n)," ")});var s={hasClass:i,addClass:r,removeClass:a,toggleClass:n,has:i,add:r,remove:a,toggle:n};"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:e.classie=s}(window),function(e){"use strict";function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function n(e,n){this.el=e,this.options=t({},this.options),t(this.options,n),this.menus=[].slice.call(this.el.querySelectorAll(".menu__level")),this.current_menu=0;var i;this.menus.forEach(function(e,t){e.querySelectorAll(".menu__item").forEach(function(e,n){e.querySelector(".menu__link--current")&&(i=t)})}),i&&(this.current_menu=i),this._init()}var i={animations:Modernizr.cssanimations},r={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},a=r[Modernizr.prefixed("animation")],s=function(e,t){var n=function(e){if(i.animations){if(e.target!=this)return;this.removeEventListener(a,n)}t&&"function"==typeof t&&t.call()};i.animations?e.addEventListener(a,n):n()};n.prototype.options={breadcrumbsCtrl:!0,initialBreadcrumb:"Меню",backCtrl:!0,itemsDelayInterval:60,direction:"r2l",onItemClick:function(e,t){return!1}},n.prototype._init=function(){this.menusArr=[],this.breadCrumbs=!1;var e=this,t=[];this.menus.forEach(function(n,i){var r={menuEl:n,menuItems:[].slice.call(n.querySelectorAll(".menu__item"))};e.menusArr.push(r),i===e.current_menu&&classie.add(n,"menu__level--current");n.getAttribute("data-menu");n.querySelectorAll(".menu__link").forEach(function(e,n){var r=e.getAttribute("data-submenu");if(r){var a={menu:r,name:e.innerHTML};t[i]?t[i].push(a):(t[i]=[],t[i].push(a))}})}),this.menus.forEach(function(n,i){var r=n.getAttribute("data-menu");t.forEach(function(t,n){t.forEach(function(t,a){t.menu==r&&(e.menusArr[i].backIdx=n,e.menusArr[i].name=t.name)})})}),e.options.breadcrumbsCtrl&&(this.breadcrumbsCtrl=document.createElement("nav"),this.breadcrumbsCtrl.className="menu__breadcrumbs",this.breadcrumbsCtrl.setAttribute("aria-label","You are here"),this.el.insertBefore(this.breadcrumbsCtrl,this.el.firstChild),this._addBreadcrumb(0),0!=e.menusArr[e.current_menu].backIdx&&0!=e.current_menu&&(this._crawlCrumbs(e.menusArr[e.current_menu].backIdx,e.menusArr),this.breadCrumbs=!0),0!=e.current_menu&&(this._addBreadcrumb(e.current_menu),this.breadCrumbs=!0)),this.options.backCtrl&&(this.backCtrl=document.createElement("button"),this.breadCrumbs?this.backCtrl.className="menu__back":this.backCtrl.className="menu__back menu__back--hidden",this.backCtrl.setAttribute("aria-label","Go back"),this.backCtrl.innerHTML='<span class="icon icon--arrow-left"></span>',this.el.insertBefore(this.backCtrl,this.el.firstChild)),this._initEvents()},n.prototype._initEvents=function(){for(var e=this,t=0,n=this.menusArr.length;t<n;++t)this.menusArr[t].menuItems.forEach(function(t,n){t.querySelector("a").addEventListener("click",function(t){var i=t.target.getAttribute("data-submenu"),r=t.target.innerHTML,a=e.el.querySelector('ul[data-menu="'+i+'"]');if(i&&a)t.preventDefault(),e._openSubMenu(a,n,r);else{e.el.querySelector(".menu__link--current")&&classie.remove(e.el.querySelector(".menu__link--current"),"menu__link--current"),classie.add(t.target,"menu__link--current"),e.options.onItemClick(t,r)}})});this.options.backCtrl&&this.backCtrl.addEventListener("click",function(){e._back()})},n.prototype._openSubMenu=function(e,t,n){if(this.isAnimating)return!1;this.isAnimating=!0,this.menusArr[this.menus.indexOf(e)].backIdx=this.current_menu,this.menusArr[this.menus.indexOf(e)].name=n,this._menuOut(t),this._menuIn(e,t)},n.prototype._back=function(){if(this.isAnimating)return!1;this.isAnimating=!0,this._menuOut();var e=this.menusArr[this.menusArr[this.current_menu].backIdx].menuEl;this._menuIn(e),this.options.breadcrumbsCtrl&&this.breadcrumbsCtrl.removeChild(this.breadcrumbsCtrl.lastElementChild)},n.prototype._menuOut=function(e){var t=this,n=this.menusArr[this.current_menu].menuEl,i=void 0===e;this.menusArr[this.current_menu].menuItems.forEach(function(n,r){n.style.WebkitAnimationDelay=n.style.animationDelay=i?parseInt(r*t.options.itemsDelayInterval)+"ms":parseInt(Math.abs(e-r)*t.options.itemsDelayInterval)+"ms"}),"r2l"===this.options.direction?classie.add(n,i?"animate-outToRight":"animate-outToLeft"):classie.add(n,i?"animate-outToLeft":"animate-outToRight")},n.prototype._menuIn=function(e,t){var n=this,i=this.menusArr[this.current_menu].menuEl,r=void 0===t,a=this.menus.indexOf(e),o=this.menusArr[a],e=o.menuEl,u=o.menuItems,c=u.length;u.forEach(function(o,u){o.style.WebkitAnimationDelay=o.style.animationDelay=r?parseInt(u*n.options.itemsDelayInterval)+"ms":parseInt(Math.abs(t-u)*n.options.itemsDelayInterval)+"ms",u===(t<=c/2||r?c-1:0)&&s(o,function(){"r2l"===n.options.direction?(classie.remove(i,r?"animate-outToRight":"animate-outToLeft"),classie.remove(e,r?"animate-inFromLeft":"animate-inFromRight")):(classie.remove(i,r?"animate-outToLeft":"animate-outToRight"),classie.remove(e,r?"animate-inFromRight":"animate-inFromLeft")),classie.remove(i,"menu__level--current"),classie.add(e,"menu__level--current"),n.current_menu=a,r?0===n.current_menu&&n.options.backCtrl&&classie.add(n.backCtrl,"menu__back--hidden"):(n.options.backCtrl&&classie.remove(n.backCtrl,"menu__back--hidden"),n._addBreadcrumb(a)),n.isAnimating=!1,e.focus()})}),"r2l"===this.options.direction?classie.add(e,r?"animate-inFromLeft":"animate-inFromRight"):classie.add(e,r?"animate-inFromRight":"animate-inFromLeft")},n.prototype._addBreadcrumb=function(e){if(!this.options.breadcrumbsCtrl)return!1;var t=document.createElement("a");t.href="#",t.innerHTML=e?this.menusArr[e].name:this.options.initialBreadcrumb,this.breadcrumbsCtrl.appendChild(t);var n=this;t.addEventListener("click",function(i){if(i.preventDefault(),!t.nextSibling||n.isAnimating)return!1;n.isAnimating=!0,n._menuOut();var r=n.menusArr[e].menuEl;n._menuIn(r);for(var a;a=t.nextSibling;)n.breadcrumbsCtrl.removeChild(a)})},n.prototype._crawlCrumbs=function(e,t){0!=t[e].backIdx&&this._crawlCrumbs(t[e].backIdx,t),this._addBreadcrumb(e)},e.MLMenu=n}(window),function(){function e(){classie.add(i,"menu--open")}function t(){classie.remove(i,"menu--open")}function n(e,n){e.preventDefault(),t(),s.innerHTML="",classie.add(s,"content--loading"),setTimeout(function(){classie.remove(s,"content--loading"),s.innerHTML='<ul class="products">'+dummyData[n]+"<ul>"},700)}var i=document.getElementById("ml-menu"),r=(new MLMenu(i,{backCtrl:!1,onItemClick:n}),document.querySelector(".action--open")),a=document.querySelector(".action--close");r.addEventListener("click",e),a.addEventListener("click",t);var s=document.querySelector(".content")}();